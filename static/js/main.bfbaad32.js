/*! For license information please see main.bfbaad32.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,V=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Te(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Ae(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ve=null,je=!1,Fe=null,Ue={onError:function(e){Me=!0,Ve=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Ve=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,Tt,_t=!1,Ct=[],It=null,At=null,Pt=null,Nt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==It&&jt(It)&&(It=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Nt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Vt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=V({},cn,{view:0,detail:0}),hn=an(fn),dn=V({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(V({},dn,{dataTransfer:0})),mn=an(V({},fn,{relatedTarget:0})),yn=an(V({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=V({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(V({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var _n=V({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),In=an(V({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(V({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=an(V({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=V({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Vn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Tr("animationend"),Cr=Tr("animationiteration"),Ir=Tr("animationstart"),Ar=Tr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ve;Me=!1,Ve=null,je||(je=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Vr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Vr(i,s,c),a=u}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case _r:case Cr:case Ir:u=yn;break;case Ar:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ai=Si(!1),Pi=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ai),Ti(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));_i(Ii,t),_i(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return V({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ii.current,_i(Ii,e),_i(Ai,Ai.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ii),_i(Ii,e)):Ti(Ai),_i(Ai,n)}var ji=null,Fi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ti(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var _a=null;function Ca(e){null===_a?_a=[e]:_a.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=V({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Vu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ri(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ri(t)?Pi:Ii.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Za),_i(Za,t)}function io(){Ti(Za),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ti(Za),Ti(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==bo;return bo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Vu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Vu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Vo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Vo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Vo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Vu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ta,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Uo,useState:function(){return Po(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=To(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Pi:Ii.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=To(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ni(t,c=Ri(n)?Pi:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Pa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ta(u):u=Ni(t,u=Ri(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,Va(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Pa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Vi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Vi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Vc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vs(n),t.memoizedState=Ms,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Vc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Vs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Vs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,_i(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Tc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Tc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Tc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Tc(t,o,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Tu=Math.ceil,_u=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Au=0,Pu=null,Nu=null,Ru=0,Ou=0,Du=Si(0),Lu=0,Mu=null,Vu=0,ju=0,Fu=0,Uu=null,zu=null,Bu=0,qu=1/0,Hu=null,Wu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Pu||(e===Pu&&(0===(2&Au)&&(ju|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=Xe()+500,Fi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Au)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Pu===e&&Ru===t||(Hu=null,qu=Xe()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),_u.current=o,Au=i,null!==Nu?t=0:(Pu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),t);break}xc(e,zu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),r);break}xc(e,zu,Hu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Hu),ic(e,Xe()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=Xe()+500,Fi&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&Ec();var t=Au;Au|=1;var n=Iu.transition,r=kt;try{if(Iu.transition=null,kt=1,e)return e()}finally{kt=r,Iu.transition=n,0===(6&(Au=t))&&Bi()}}function hc(){Ou=Du.current,Ti(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ti(Ai),Ti(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pu=e,Nu=e=Dc(e.current,null),Ru=Ou=t,Lu=0,Mu=null,Fu=ju=Vu=0,zu=Uu=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function pc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Cu.current=null,null===n||null===n.return){Lu=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function vc(){var e=_u.current;return _u.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&Vu)&&0===(268435455&ju)||uc(Pu,Ru)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Pu===e&&Ru===t||(Hu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Au=n,_u.current=r,null!==Nu)throw Error(a(261));return Pu=null,Ru=0,Lu}function gc(){for(;null!==Nu;)bc(Nu)}function kc(){for(;null!==Nu&&!Ye();)bc(Nu)}function bc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Nu=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Lu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Iu.transition;try{Iu.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Nu=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Cu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Tc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ku(n,e,i),$e(),Au=u,kt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,kt=r}return null}function Ec(){if(null!==Yu){var e=bt($u),t=Iu.transition,n=kt;try{if(Iu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Tc(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Xe()-Bu?dc(e,0):Fu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=Rc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Rc(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Vc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case C:s=9;break e;case I:s=11;break e;case N:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(_i(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);_i(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_i(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ta(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Vt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Au)&&(qu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},Tt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,_e,Ce,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,_=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function P(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof k)E=function(){k(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,E=function(){R.postMessage(null)}}else E=function(){y(P,0)};function O(e){T=e,S||(S=!0,E())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),function(){var e=n(791),t=n(250);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h={delta:0,timestamp:0,isProcessing:!1},d=!0,p=!1,v=["read","update","preRender","render","postRender"],m=v.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return p=!0})),e}),{}),y=function(e){return m[e].process(h)},g=function e(t){p=!1,h.delta=d?1e3/60:Math.max(Math.min(t-h.timestamp,40),1),h.timestamp=t,h.isProcessing=!0,v.forEach(y),h.isProcessing=!1,p&&(d=!1,requestAnimationFrame(e))},k=v.reduce((function(e,t){var n=m[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p||(p=!0,d=!0,h.isProcessing||requestAnimationFrame(g)),n.schedule(e,t,r)},e}),{});function b(e){v.forEach((function(t){return m[t].cancel(e)}))}var w="undefined"!==typeof document,x=w?e.useLayoutEffect:e.useEffect;function E(){var t=(0,e.useRef)(!1);return x((function(){return t.current=!0,function(){t.current=!1}}),[]),t}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}var T=(0,e.createContext)(null);function _(t){var n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function A(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){var t=O();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}(this,n)}}var M=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function V(t){var n=t.children,r=t.isPresent,i=(0,e.useId)(),a=(0,e.useRef)(null),o=(0,e.useRef)({width:0,height:0,top:0,left:0});return(0,e.useInsertionEffect)((function(){var e=o.current,t=e.width,n=e.height,s=e.top,u=e.left;if(!r&&a.current&&t&&n){a.current.dataset.motionPopId=i;var c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(u,"px !important;\n          }\n        ")),function(){document.head.removeChild(c)}}}),[r]),e.createElement(M,{isPresent:r,childRef:a,sizeRef:o},e.cloneElement(n,{ref:a}))}var j=function(t){var n=t.children,r=t.initial,i=t.isPresent,a=t.onExitComplete,o=t.custom,s=t.presenceAffectsLayout,u=t.mode,c=_(F),l=(0,e.useId)(),f=(0,e.useMemo)((function(){return{id:l,initial:r,isPresent:i,custom:o,onExitComplete:function(e){c.set(e,!0);var t,n=S(c.values());try{for(n.s();!(t=n.n()).done;){if(!t.value)return}}catch(r){n.e(r)}finally{n.f()}a&&a()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),s?void 0:[i]);return(0,e.useMemo)((function(){c.forEach((function(e,t){return c.set(t,!1)}))}),[i]),e.useEffect((function(){!i&&!c.size&&a&&a()}),[i]),"popLayout"===u&&(n=e.createElement(V,{isPresent:i},n)),e.createElement(T.Provider,{value:f},n)};function F(){return new Map}var U=(0,e.createContext)({});var z=function(e){return e},B=z,q=z;var H=function(e){return e.key||""};var W=function(t){var n=t.children,r=t.custom,i=t.initial,o=void 0===i||i,s=t.onExitComplete,u=t.exitBeforeEnter,c=t.presenceAffectsLayout,l=void 0===c||c,h=t.mode,d=void 0===h?"sync":h;q(!u,"Replace exitBeforeEnter with mode='wait'");var p,v=(0,e.useContext)(U).forceRender||function(){var t=E(),n=f((0,e.useState)(0),2),r=n[0],i=n[1],a=(0,e.useCallback)((function(){t.current&&i(r+1)}),[r]);return[(0,e.useCallback)((function(){return k.postRender(a)}),[a]),r]}()[0],m=E(),y=function(t){var n=[];return e.Children.forEach(t,(function(t){(0,e.isValidElement)(t)&&n.push(t)})),n}(n),g=y,b=(0,e.useRef)(new Map).current,w=(0,e.useRef)(g),S=(0,e.useRef)(new Map).current,T=(0,e.useRef)(!0);if(x((function(){T.current=!1,function(e,t){e.forEach((function(e){var n=H(e);t.set(n,e)}))}(y,S),w.current=g})),p=function(){T.current=!0,S.clear(),b.clear()},(0,e.useEffect)((function(){return function(){return p()}}),[]),T.current)return e.createElement(e.Fragment,null,g.map((function(t){return e.createElement(j,{key:H(t),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:l,mode:d},t)})));g=a(g);for(var _=w.current.map(H),C=y.map(H),I=_.length,A=0;A<I;A++){var P=_[A];-1!==C.indexOf(P)||b.has(P)||b.set(P,void 0)}return"wait"===d&&b.size&&(g=[]),b.forEach((function(t,n){if(-1===C.indexOf(n)){var i=S.get(n);if(i){var a=_.indexOf(n),o=t;if(!o){o=e.createElement(j,{key:H(i),isPresent:!1,onExitComplete:function(){S.delete(n),b.delete(n);var e=w.current.findIndex((function(e){return e.key===n}));if(w.current.splice(e,1),!b.size){if(w.current=y,!1===m.current)return;v(),s&&s()}},custom:r,presenceAffectsLayout:l,mode:d},i),b.set(n,o)}g.splice(a,0,o)}}})),g=g.map((function(t){var n=t.key;return b.has(n)?t:e.createElement(j,{key:H(t),isPresent:!0,presenceAffectsLayout:l,mode:d},t)})),e.createElement(e.Fragment,null,b.size?g:g.map((function(t){return(0,e.cloneElement)(t)})))},K={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G=e.createContext&&e.createContext(K),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)},Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function $(t){return t&&t.map((function(t,n){return e.createElement(t.tag,Q({key:n},t.attr),$(t.child))}))}function X(t){return function(n){return e.createElement(J,Q({attr:Q({},t.attr)},n),$(t.child))}}function J(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,s=Y(t,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Q({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Q(Q({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==G?e.createElement(G.Consumer,null,(function(e){return n(e)})):n(K)}function Z(e){return X({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(e)}function ee(e){return X({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(e)}function te(e){return X({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M705.6 124.9a8 8 0 0 0-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0 1 62.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0 1 27.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 0 1-76.3 113.3 353.06 353.06 0 0 1-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 0 1-113.2-76.4A355.92 355.92 0 0 1 184 650.4a355 355 0 0 1-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]})(e)}function ne(e){return X({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function re(e){return X({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.53 2.47a.75.75 0 010 1.06L4.81 8.25H15a6.75 6.75 0 010 13.5h-3a.75.75 0 010-1.5h3a5.25 5.25 0 100-10.5H4.81l4.72 4.72a.75.75 0 11-1.06 1.06l-6-6a.75.75 0 010-1.06l6-6a.75.75 0 011.06 0z",clipRule:"evenodd"}}]})(e)}function ie(){ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new _(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,s,u){var c=f(e[r],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==o(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ae(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ae(a,r,i,o,s,"next",e)}function s(e){ae(a,r,i,o,s,"throw",e)}o(void 0)}))}}function se(e,t,n){return se=O()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&P(i,n.prototype),i},se.apply(null,arguments)}function ue(e){var t="function"===typeof Map?new Map:void 0;return ue=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return se(e,arguments,R(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,e)},ue(e)}var ce=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ce(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new fe;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},fe=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return A(n)}(ue(Error)),he=function(e){return function(e){var t=ce(e);return le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},de=function(e){try{return le.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var pe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ve=function(){try{return pe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/notes-app-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&de(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},me=function(e){var t,n;return null===(n=null===(t=ve())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ye=function(){var e;return null===(e=ve())||void 0===e?void 0:e.config},ge=function(e){var t;return null===(t=ve())||void 0===t?void 0:t["_".concat(e)]},ke=function(){function e(){var t=this;C(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return A(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function we(){try{return"object"===typeof indexedDB}catch(e){return!1}}var xe=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(D(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(D(a),Ee.prototype.create),a}return A(n)}(ue(Error)),Ee=function(){function e(t,n,r){C(this,e),this.service=t,this.serviceName=n,this.errors=r}return A(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Se,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new xe(n,a,t)}}]),e}();var Se=/\{\$([^}]+)}/g;function Te(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _e(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ce(s)&&Ce(u)){if(!_e(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ce(e){return null!==e&&"object"===typeof e}function Ie(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ae(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Pe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ne=function(){function e(t,n){var r=this;C(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return A(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Re),void 0===r.error&&(r.error=Re),void 0===r.complete&&(r.complete=Re);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Re(){}function Oe(e){return e&&e._delegate?e._delegate:e}var De=function(){function e(t,n,r){C(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return A(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Le="[DEFAULT]",Me=function(){function e(t,n){C(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return A(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ke;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Le})}catch(u){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(a(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),a(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Le?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return this.component?this.component.multipleInstances?e:Le:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ve,je,Fe=function(){function e(t){C(this,e),this.name=t,this.providers=new Map}return A(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Me(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ue=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(je||(je={}));var ze={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Be=je.INFO,qe=(u(Ve={},je.DEBUG,"log"),u(Ve,je.VERBOSE,"log"),u(Ve,je.INFO,"info"),u(Ve,je.WARN,"warn"),u(Ve,je.ERROR,"error"),Ve),He=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=qe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},We=function(){function e(t){C(this,e),this.name=t,this._logLevel=Be,this._logHandler=He,this._userLogHandler=null,Ue.push(this)}return A(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in je))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ze[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,je.DEBUG].concat(t)),this._logHandler.apply(this,[this,je.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,je.VERBOSE].concat(t)),this._logHandler.apply(this,[this,je.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,je.INFO].concat(t)),this._logHandler.apply(this,[this,je.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,je.WARN].concat(t)),this._logHandler.apply(this,[this,je.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,je.ERROR].concat(t)),this._logHandler.apply(this,[this,je.ERROR].concat(t))}}]),e}();var Ke,Ge,Qe=function(e,t){return t.some((function(t){return e instanceof t}))};var Ye=new WeakMap,$e=new WeakMap,Xe=new WeakMap,Je=new WeakMap,Ze=new WeakMap;var et={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function tt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(it(this),n),rt(Ye.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rt(e.apply(it(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[it(this),t].concat(r));return Xe.set(a,t.sort?t.sort():[t]),rt(a)}}function nt(e){return"function"===typeof e?tt(e):(e instanceof IDBTransaction&&function(e){if(!$e.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));$e.set(e,t)}}(e),Qe(e,Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,et):e)}function rt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(rt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ye.set(t,e)})).catch((function(){})),Ze.set(t,e),t}(e);if(Je.has(e))return Je.get(e);var t=nt(e);return t!==e&&(Je.set(e,t),Ze.set(t,e)),t}var it=function(e){return Ze.get(e)};var at,ot,st=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],ct=new Map;function lt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ct.get(t))return ct.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ut.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||st.includes(n))){var a=function(){var e=oe(ie().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ct.set(t,a),a}}}et=function(e){return l(l({},e),{},{get:function(t,n,r){return lt(t,n)||e.get(t,n,r)},has:function(t,n){return!!lt(t,n)||e.has(t,n)}})}(et);var ft=function(){function e(t){C(this,e),this.container=t}return A(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ht="@firebase/app",dt="0.9.11",pt=new We("@firebase/app"),vt="[DEFAULT]",mt=(u(at={},ht,"fire-core"),u(at,"@firebase/app-compat","fire-core-compat"),u(at,"@firebase/analytics","fire-analytics"),u(at,"@firebase/analytics-compat","fire-analytics-compat"),u(at,"@firebase/app-check","fire-app-check"),u(at,"@firebase/app-check-compat","fire-app-check-compat"),u(at,"@firebase/auth","fire-auth"),u(at,"@firebase/auth-compat","fire-auth-compat"),u(at,"@firebase/database","fire-rtdb"),u(at,"@firebase/database-compat","fire-rtdb-compat"),u(at,"@firebase/functions","fire-fn"),u(at,"@firebase/functions-compat","fire-fn-compat"),u(at,"@firebase/installations","fire-iid"),u(at,"@firebase/installations-compat","fire-iid-compat"),u(at,"@firebase/messaging","fire-fcm"),u(at,"@firebase/messaging-compat","fire-fcm-compat"),u(at,"@firebase/performance","fire-perf"),u(at,"@firebase/performance-compat","fire-perf-compat"),u(at,"@firebase/remote-config","fire-rc"),u(at,"@firebase/remote-config-compat","fire-rc-compat"),u(at,"@firebase/storage","fire-gcs"),u(at,"@firebase/storage-compat","fire-gcs-compat"),u(at,"@firebase/firestore","fire-fst"),u(at,"@firebase/firestore-compat","fire-fst-compat"),u(at,"fire-js","fire-js"),u(at,"firebase","fire-js-all"),at),yt=new Map,gt=new Map;function kt(e,t){try{e.container.addComponent(t)}catch(n){pt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function bt(e){var t=e.name;if(gt.has(t))return pt.debug("There were multiple attempts to register component ".concat(t,".")),!1;gt.set(t,e);var n,r=S(yt.values());try{for(r.s();!(n=r.n()).done;){kt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var xt=(u(ot={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),u(ot,"bad-app-name","Illegal App name: '{$appName}"),u(ot,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),u(ot,"app-deleted","Firebase App named '{$appName}' already deleted"),u(ot,"no-options","Need to provide options, when not being deployed to hosting via source."),u(ot,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),u(ot,"invalid-log-argument","First argument to `onLog` must be null or a function."),u(ot,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),u(ot,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),u(ot,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),u(ot,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ot),Et=new Ee("app","Firebase",xt),St=function(){function e(t,n,r){var i=this;C(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new De("app",(function(){return i}),"PUBLIC"))}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}]),e}(),Tt="9.22.1";function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:vt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Et.create("bad-app-name",{appName:String(i)});if(n||(n=ye()),!n)throw Et.create("no-options");var a=yt.get(i);if(a){if(_e(n,a.options)&&_e(r,a.config))return a;throw Et.create("duplicate-app",{appName:i})}var o,s=new Fe(i),u=S(gt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new St(n,r,s);return yt.set(i,l),l}function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=yt.get(e);if(!t&&e===vt&&ye())return _t();if(!t)throw Et.create("no-app",{appName:e});return t}function It(e,t,n){var r,i=null!==(r=mt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pt.warn(s.join(" "))}bt(new De("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var At="firebase-heartbeat-database",Pt=1,Nt="firebase-heartbeat-store",Rt=null;function Ot(){return Rt||(Rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=rt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(rt(s.result),e.oldVersion,e.newVersion,rt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(At,Pt,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nt)}}).catch((function(e){throw Et.create("idb-open",{originalErrorMessage:e.message})}))),Rt}function Dt(e){return Lt.apply(this,arguments)}function Lt(){return Lt=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot();case 3:return n=e.sent,e.next=6,n.transaction(Nt).objectStore(Nt).get(jt(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof xe?pt.warn(e.t0.message):(i=Et.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pt.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Lt.apply(this,arguments)}function Mt(e,t){return Vt.apply(this,arguments)}function Vt(){return Vt=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot();case 3:return r=e.sent,i=r.transaction(Nt,"readwrite"),a=i.objectStore(Nt),e.next=8,a.put(n,jt(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof xe?pt.warn(e.t0.message):(o=Et.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pt.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Vt.apply(this,arguments)}function jt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ft=function(){function e(t){var n=this;C(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return A(e,[{key:"triggerHeartbeat",value:function(){var e=oe(ie().mark((function e(){var t,n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ut(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ut(),n=zt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=he(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ut(){return(new Date).toISOString().substring(0,10)}function zt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ht(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ht(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bt,qt=function(){function e(t){C(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return A(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Dt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(a(r.heartbeats),a(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ht(e){return he(JSON.stringify({version:2,heartbeats:e})).length}Bt="",bt(new De("platform-logger",(function(e){return new ft(e)}),"PRIVATE")),bt(new De("heartbeat",(function(e){return new Ft(e)}),"PRIVATE")),It(ht,dt,Bt),It(ht,dt,"esm2017"),It("fire-js","");function Wt(){return Wt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wt.apply(this,arguments)}It("firebase","9.22.1","app");var Kt,Gt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qt={},Yt=Yt||{},$t=Gt||self;function Xt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zt="closure_uid_"+(1e9*Math.random()>>>0),en=0;function tn(e,t,n){return e.call.apply(e.bind,arguments)}function nn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rn(e,t,n){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tn:nn).apply(null,arguments)}function an(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function on(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function sn(){this.s=this.s,this.o=this.o}sn.prototype.s=!1,sn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Zt)&&e[Zt]||(e[Zt]=++en)}(this)},sn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var un=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function cn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ln(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Xt(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function fn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var hn=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$t.addEventListener("test",(function(){}),t),$t.removeEventListener("test",(function(){}),t)}catch(Jk){}return e}();function dn(e){return/^[\s\xa0]*$/.test(e)}function pn(){var e=$t.navigator;return e&&(e=e.userAgent)?e:""}function vn(e){return-1!=pn().indexOf(e)}function mn(e){return mn[" "](e),e}mn[" "]=function(){};var yn,gn,kn=vn("Opera"),bn=vn("Trident")||vn("MSIE"),wn=vn("Edge"),xn=wn||bn,En=vn("Gecko")&&!(-1!=pn().toLowerCase().indexOf("webkit")&&!vn("Edge"))&&!(vn("Trident")||vn("MSIE"))&&!vn("Edge"),Sn=-1!=pn().toLowerCase().indexOf("webkit")&&!vn("Edge");function Tn(){var e=$t.document;return e?e.documentMode:void 0}e:{var _n="",Cn=function(){var e=pn();return En?/rv:([^\);]+)(\)|;)/.exec(e):wn?/Edge\/([\d\.]+)/.exec(e):bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sn?/WebKit\/(\S+)/.exec(e):kn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Cn&&(_n=Cn?Cn[1]:""),bn){var In=Tn();if(null!=In&&In>parseFloat(_n)){yn=String(In);break e}}yn=_n}if($t.document&&bn){var An=Tn();gn=An||(parseInt(yn,10)||void 0)}else gn=void 0;var Pn=gn;function Nn(e,t){if(fn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(En){e:{try{mn(t.nodeName);var i=!0;break e}catch(Xk){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Rn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Nn.$.h.call(this)}}on(Nn,fn);var Rn={2:"touch",3:"pen",4:"mouse"};Nn.prototype.h=function(){Nn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var On="closure_listenable_"+(1e6*Math.random()|0),Dn=0;function Ln(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Dn,this.fa=this.ia=!1}function Mn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jn(e){var t={};for(var n in e)t[n]=e[n];return t}var Fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Un(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Fn.length;a++)n=Fn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zn(e){this.src=e,this.g={},this.h=0}function Bn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=un(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Mn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}zn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=qn(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ln(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Hn="closure_lm_"+(1e6*Math.random()|0),Wn={};function Kn(e,t,n,r,i){if(r&&r.once)return Qn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Kn(e,t[a],n,r,i);return null}return n=tr(n),e&&e[On]?e.O(t,n,Jt(r)?!!r.capture:!!r,i):Gn(e,t,n,!1,r,i)}function Gn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Jt(i)?!!i.capture:!!i,s=Zn(e);if(s||(e[Hn]=s=new zn(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Jn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Qn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qn(e,t[a],n,r,i);return null}return n=tr(n),e&&e[On]?e.P(t,n,Jt(r)?!!r.capture:!!r,i):Gn(e,t,n,!0,r,i)}function Yn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yn(e,t[a],n,r,i);else r=Jt(r)?!!r.capture:!!r,n=tr(n),e&&e[On]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qn(a=e.g[t],n,r,i))&&(Mn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Zn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qn(t,n,r,i)),(n=-1<e?t[e]:null)&&$n(n))}function $n(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[On])Bn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zn(t))?(Bn(n,e),0==n.h&&(n.src=null,t[Hn]=null)):Mn(e)}}}function Xn(e){return e in Wn?Wn[e]:Wn[e]="on"+e}function Jn(e,t){if(e.fa)e=!0;else{t=new Nn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&$n(e),e=n.call(r,t)}return e}function Zn(e){return(e=e[Hn])instanceof zn?e:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(e){return"function"===typeof e?e:(e[er]||(e[er]=function(t){return e.handleEvent(t)}),e[er])}function nr(){sn.call(this),this.i=new zn(this),this.S=this,this.J=null}function rr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new fn(t,e);else if(t instanceof fn)t.target=t.target||e;else{var i=t;Un(t=new fn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ir(o,r,!0,t)&&i}if(i=ir(o=t.g=e,r,!0,t)&&i,i=ir(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ir(o=t.g=n[a],r,!1,t)&&i}function ir(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Bn(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}on(nr,sn),nr.prototype[On]=!0,nr.prototype.removeEventListener=function(e,t,n,r){Yn(this,e,t,n,r)},nr.prototype.N=function(){if(nr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mn(n[r]);delete t.g[e],t.h--}}this.J=null},nr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},nr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ar=$t.JSON.stringify,or=function(){function e(t,n){C(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return A(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function sr(){var e=vr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ur=function(){function e(){C(this,e),this.h=this.g=null}return A(e,[{key:"add",value:function(e,t){var n=cr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),cr=new or((function(){return new lr}),(function(e){return e.reset()})),lr=function(){function e(){C(this,e),this.next=this.g=this.h=null}return A(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function fr(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function hr(e){$t.setTimeout((function(){throw e}),0)}var dr,pr=!1,vr=new ur,mr=function(){var e=$t.Promise.resolve(void 0);dr=function(){e.then(yr)}},yr=function(){for(var e;e=sr();){try{e.h.call(e.g)}catch(Jk){hr(Jk)}var t=cr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}pr=!1};function gr(e,t){nr.call(this),this.h=e||1,this.g=t||$t,this.j=rn(this.qb,this),this.l=Date.now()}function kr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function br(e,t,n){if("function"===typeof e)n&&(e=rn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=rn(e.handleEvent,e)}return 2147483647<Number(t)?-1:$t.setTimeout(e,t||0)}function wr(e){e.g=br((function(){e.g=null,e.i&&(e.i=!1,wr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}on(gr,nr),(Kt=gr.prototype).ga=!1,Kt.T=null,Kt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&(kr(this),this.start()))}},Kt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Kt.N=function(){gr.$.N.call(this),kr(this),delete this.g};var xr=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return A(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wr(this)}},{key:"N",value:function(){Wt(R(n.prototype),"N",this).call(this),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(sn);function Er(e){sn.call(this),this.h=e,this.g={}}on(Er,sn);var Sr=[];function Tr(e,t,n,r){Array.isArray(n)||(n&&(Sr[0]=n.toString()),n=Sr);for(var i=0;i<n.length;i++){var a=Kn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _r(e){Vn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$n(e)}),e),e.g={}}function Cr(){this.g=!0}function Ir(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ar(n)}catch(Hk){return t}}(e,n)+(r?" "+r:"")}))}Er.prototype.N=function(){Er.$.N.call(this),_r(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cr.prototype.Ea=function(){this.g=!1},Cr.prototype.info=function(){};var Ar={},Pr=null;function Nr(){return Pr=Pr||new nr}function Rr(e){fn.call(this,Ar.Ta,e)}function Or(e){var t=Nr();rr(t,new Rr(t))}function Dr(e,t){fn.call(this,Ar.STAT_EVENT,e),this.stat=t}function Lr(e){var t=Nr();rr(t,new Dr(t,e))}function Mr(e,t){fn.call(this,Ar.Ua,e),this.size=t}function Vr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $t.setTimeout((function(){e()}),t)}Ar.Ta="serverreachability",on(Rr,fn),Ar.STAT_EVENT="statevent",on(Dr,fn),Ar.Ua="timingevent",on(Mr,fn);var jr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ur(){}function zr(e){return e.h||(e.h=e.i())}function Br(){}Ur.prototype.h=null;var qr,Hr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wr(){fn.call(this,"d")}function Kr(){fn.call(this,"c")}function Gr(){}function Qr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Er(this),this.P=$r,e=xn?125:void 0,this.V=new gr(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}on(Wr,fn),on(Kr,fn),on(Gr,Ur),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},qr=new Gr;var $r=45e3,Xr={},Jr={};function Zr(e,t,n){e.L=1,e.v=gi(di(t)),e.s=n,e.S=!0,ei(e,null)}function ei(e,t){e.G=Date.now(),ii(e),e.A=di(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ni(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Yr,e.g=Na(e.l,n?t:null,!e.s),0<e.O&&(e.M=new xr(rn(e.Pa,e,e.g),e.O)),Tr(e.U,e.g,"readystatechange",e.nb),t=e.I?jn(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Or(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function ti(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ni(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ri(e,n))==Jr){4==t&&(e.o=4,Lr(14),i=!1),Ir(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xr){e.o=4,Lr(15),Ir(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ir(e.j,e.m,r,null),ci(e,r)}ti(e)&&r!=Jr&&r!=Xr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Lr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ea(t),t.M=!0,Lr(11))):(Ir(e.j,e.m,n,"[Invalid Chunked Response]"),ui(e),si(e))}function ri(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jr:(n=Number(t.substring(n,r)),isNaN(n)?Xr:(r+=1)+n>t.length?Jr:(t=t.slice(r,r+n),e.C=r+n,t))}function ii(e){e.Y=Date.now()+e.P,ai(e,e.P)}function ai(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vr(rn(e.lb,e),t)}function oi(e){e.B&&($t.clearTimeout(e.B),e.B=null)}function si(e){0==e.l.H||e.J||_a(e.l,e)}function ui(e){oi(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,kr(e.V),_r(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ci(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ji(n.i,e)))if(!e.K&&ji(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ta(n),va(n)}xa(n),Lr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vr(rn(n.ib,n),6e3));if(1>=Vi(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Ia(n,11)}else if((e.K||n.g==e)&&Ta(n),!dn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Fi(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,yi(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Pa(r,r.J?r.pa:null,r.Y),d.K){Ui(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(oi(p),ii(p)),r.g=d}else wa(r);0<n.j.length&&ya(n)}else"stop"!=a[0]&&"close"!=a[0]||Ia(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ia(n,7):pa(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Or()}catch(a){}}function li(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Xt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Xt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Kt=Qr.prototype).setTimeout=function(e){this.P=e},Kt.nb=function(e){e=e.target;var t=this.M;t&&3==ua(e)?t.l():this.Pa(e)},Kt.Pa=function(e){try{if(e==this.g)e:{var t=ua(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||xn||this.g&&(this.h.h||this.g.ja()||ca(this.g)))){this.J||4!=t||7==n||Or(),oi(this);var r=this.g.da();this.ca=r;t:if(ti(this)){var i=ca(this.g);e="";var a=i.length,o=4==ua(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ui(this),si(this);var s="";break t}this.h.i=new $t.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dn(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Lr(12),ui(this),si(this);break e}Ir(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ci(this,r)}this.S?(ni(this,t,s),xn&&this.i&&3==t&&(Tr(this.U,this.V,"tick",this.mb),this.V.start())):(Ir(this.j,this.m,s,null),ci(this,s)),4==t&&ui(this),this.i&&!this.J&&(4==t?_a(this.l,this):(this.i=!1,ii(this)))}else(function(e){var t={};e=(e.g&&2<=ua(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!dn(e[n])){var r=fr(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),ui(this),si(this)}}}catch(t){}},Kt.mb=function(){if(this.g){var e=ua(this.g),t=this.g.ja();this.C<t.length&&(oi(this),ni(this,e,t),this.i&&4!=e&&ii(this))}},Kt.cancel=function(){this.J=!0,ui(this)},Kt.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Or(),Lr(17)),ui(this),this.o=2,si(this)):ai(this,this.Y-e)};var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof hi){this.h=e.h,pi(this,e.j),this.s=e.s,this.g=e.g,vi(this,e.m),this.l=e.l;var t=e.i,n=new Ci;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mi(this,n),this.o=e.o}else e&&(t=String(e).match(fi))?(this.h=!1,pi(this,t[1]||"",!0),this.s=ki(t[2]||""),this.g=ki(t[3]||"",!0),vi(this,t[4]),this.l=ki(t[5]||"",!0),mi(this,t[6]||"",!0),this.o=ki(t[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}function di(e){return new hi(e)}function pi(e,t,n){e.j=n?ki(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mi(e,t,n){t instanceof Ci?(e.i=t,function(e,t){t&&!e.j&&(Ii(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ai(this,t),Ni(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bi(t,Ti)),e.i=new Ci(t,e.h))}function yi(e,t,n){e.i.set(t,n)}function gi(e){return yi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ki(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bi(t,xi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bi(t,xi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bi(n,"/"==n.charAt(0)?Si:Ei,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bi(n,_i)),e.join("")};var xi=/[#\/\?@]/g,Ei=/[#\?:]/g,Si=/[#\?]/g,Ti=/[#\?@]/g,_i=/#/g;function Ci(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ii(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ai(e,t){Ii(e),t=Ri(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pi(e,t){return Ii(e),t=Ri(e,t),e.g.has(t)}function Ni(e,t,n){Ai(e,t),0<n.length&&(e.i=null,e.g.set(Ri(e,t),cn(n)),e.h+=n.length)}function Ri(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Kt=Ci.prototype).add=function(e,t){Ii(this),this.i=null,e=Ri(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Kt.forEach=function(e,t){Ii(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Kt.ta=function(){Ii(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Kt.Z=function(e){Ii(this);var t=[];if("string"===typeof e)Pi(this,e)&&(t=t.concat(this.g.get(Ri(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Kt.set=function(e,t){return Ii(this),this.i=null,Pi(this,e=Ri(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Kt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Oi=A((function e(t,n){C(this,e),this.g=t,this.map=n}));function Di(e){this.l=e||Li,$t.PerformanceNavigationTiming?e=0<(e=$t.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Li=10;function Mi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vi(e){return e.h?1:e.g?e.g.size:0}function ji(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fi(e,t){e.g?e.g.add(t):e.h=t}function Ui(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zi(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return cn(e.i)}Di.prototype.cancel=function(){if(this.i=zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Bi=function(){function e(){C(this,e)}return A(e,[{key:"stringify",value:function(e){return $t.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return $t.JSON.parse(e,void 0)}}]),e}();function qi(){this.g=new Bi}function Hi(e,t,n){var r=n||"";try{li(e,(function(e,n){var i=e;Jt(e)&&(i=ar(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Xk){}}function Ki(e){this.l=e.fc||null,this.j=e.ob||!1}function Gi(e,t){nr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Qi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(Ki,Ur),Ki.prototype.g=function(){return new Gi(this.l,this.j)},Ki.prototype.i=function(e){return function(){return e}}({}),on(Gi,nr);var Qi=0;function Yi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function $i(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xi(e)}function Xi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Kt=Gi.prototype).open=function(e,t){if(this.readyState!=Qi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xi(this)},Kt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||$t).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$i(this)),this.readyState=Qi},Kt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof $t.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Kt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$i(this):Xi(this),3==this.readyState&&Yi(this)}},Kt.Za=function(e){this.g&&(this.response=this.responseText=e,$i(this))},Kt.Ya=function(e){this.g&&(this.response=e,$i(this))},Kt.ka=function(){this.g&&$i(this)},Kt.setRequestHeader=function(e,t){this.v.append(e,t)},Kt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Kt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ji=$t.JSON.parse;function Zi(e){nr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ea,this.L=this.M=!1}on(Zi,nr);var ea="",ta=/^https?$/i,na=["POST","PUT"];function ra(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ia(e),oa(e)}function ia(e){e.F||(e.F=!0,rr(e,"complete"),rr(e,"error"))}function aa(e){if(e.h&&"undefined"!=typeof Yt&&(!e.C[1]||4!=ua(e)||2!=e.da()))if(e.v&&4==ua(e))br(e.La,0,e);else if(rr(e,"readystatechange"),4==ua(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(fi)[1]||null;!a&&$t.self&&$t.self.location&&(a=$t.self.location.protocol.slice(0,-1)),i=!ta.test(a?a.toLowerCase():"")}t=i}if(t)rr(e,"complete"),rr(e,"success");else{e.m=6;try{var o=2<ua(e)?e.g.statusText:""}catch(Hk){o=""}e.j=o+" ["+e.da()+"]",ia(e)}}finally{oa(e)}}}function oa(e,t){if(e.g){sa(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||rr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function sa(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&($t.clearTimeout(e.A),e.A=null)}function ua(e){return e.g?e.g.readyState:0}function ca(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ea:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vo){return null}}function la(e){var t="";return Vn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=la(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yi(e,t,n))}function ha(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function da(e){this.Ga=0,this.j=[],this.l=new Cr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ha("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ha("baseRetryDelayMs",5e3,e),this.hb=ha("retryDelaySeedMs",1e4,e),this.eb=ha("forwardChannelMaxRetries",2,e),this.xa=ha("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Di(e&&e.concurrentRequestLimit),this.Ja=new qi,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pa(e){if(ma(e),3==e.H){var t=e.W++,n=di(e.I);if(yi(n,"SID",e.K),yi(n,"RID",t),yi(n,"TYPE","terminate"),ka(e,n),(t=new Qr(e,e.l,t)).L=2,t.v=gi(di(n)),n=!1,$t.navigator&&$t.navigator.sendBeacon)try{n=$t.navigator.sendBeacon(t.v.toString(),"")}catch(rb){}!n&&$t.Image&&((new Image).src=t.v,n=!0),n||(t.g=Na(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ii(t)}Aa(e)}function va(e){e.g&&(Ea(e),e.g.cancel(),e.g=null)}function ma(e){va(e),e.u&&($t.clearTimeout(e.u),e.u=null),Ta(e),e.i.cancel(),e.m&&("number"===typeof e.m&&$t.clearTimeout(e.m),e.m=null)}function ya(e){if(!Mi(e.i)&&!e.m){e.m=!0;var t=e.Na;dr||mr(),pr||(dr(),pr=!0),vr.add(t,e),e.C=0}}function ga(e,t){var n;n=t?t.m:e.W++;var r=di(e.I);yi(r,"SID",e.K),yi(r,"RID",n),yi(r,"AID",e.V),ka(e,r),e.o&&e.s&&fa(r,e.o,e.s),n=new Qr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ba(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Fi(e.i,n),Zr(n,r,t)}function ka(e,t){e.na&&Vn(e.na,(function(e,n){yi(t,n,e)})),e.h&&li({},(function(e,n){yi(t,n,e)}))}function ba(e,t,n){n=Math.min(e.j.length,n);var r=e.h?rn(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Hi(l,o,"req"+c+"_")}catch(_o){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function wa(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;dr||mr(),pr||(dr(),pr=!0),vr.add(t,e),e.A=0}}function xa(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Vr(rn(e.Ma,e),Ca(e,e.A)),e.A++,!0)}function Ea(e){null!=e.B&&($t.clearTimeout(e.B),e.B=null)}function Sa(e){e.g=new Qr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=di(e.wa);yi(t,"RID","rpc"),yi(t,"SID",e.K),yi(t,"AID",e.V),yi(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&yi(t,"TO",e.qa),yi(t,"TYPE","xmlhttp"),ka(e,t),e.o&&e.s&&fa(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=gi(di(t)),n.s=null,n.S=!0,ei(n,e)}function Ta(e){null!=e.v&&($t.clearTimeout(e.v),e.v=null)}function _a(e,t){var n=null;if(e.g==t){Ta(e),Ea(e),e.g=null;var r=2}else{if(!ji(e.i,t))return;n=t.F,Ui(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;rr(r=Nr(),new Mr(r,n)),ya(e)}else wa(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Vi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Vr(rn(e.Na,e,t),Ca(e,e.C)),e.C++,!0))}(e,t)||2==r&&xa(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ia(e,5);break;case 4:Ia(e,10);break;case 3:Ia(e,6);break;default:Ia(e,2)}}function Ca(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ia(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=rn(e.pb,e);n||(n=new hi("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||pi(n,"https"),gi(n)),function(e,t){var n=new Cr;if($t.Image){var r=new Image;r.onload=an(Wi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=an(Wi,n,r,"TestLoadImage: error",!1,t),r.onabort=an(Wi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=an(Wi,n,r,"TestLoadImage: timeout",!1,t),$t.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Lr(2);e.H=0,e.h&&e.h.za(t),Aa(e),ma(e)}function Aa(e){if(e.H=0,e.ma=[],e.h){var t=zi(e.i);0==t.length&&0==e.j.length||(ln(e.ma,t),ln(e.ma,e.j),e.i.i.length=0,cn(e.j),e.j.length=0),e.h.ya()}}function Pa(e,t,n){var r=n instanceof hi?di(n):new hi(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vi(r,r.m);else{var i=$t.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new hi(null);r&&pi(a,r),t&&(a.g=t),i&&vi(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&yi(r,n,t),yi(r,"VER",e.ra),ka(e,r),r}function Na(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Zi(new Ki({ob:!0})):new Zi(e.va)).Oa(e.J),t}function Ra(){}function Oa(){if(bn&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function Da(e,t){nr.call(this),this.g=new da(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!dn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Va(this)}function La(e){Wr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ma(){Kr.call(this),this.status=1}function Va(e){this.g=e}function ja(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Fa(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ua(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Kt=Zi.prototype).Oa=function(e){this.M=e},Kt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qr.g(),this.C=this.u?zr(this.u):zr(qr),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ra(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=$t.FormData&&e instanceof $t.FormData,!(0<=un(na,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=S(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sa(this),0<this.B&&((this.L=function(e){return bn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=br(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ra(this,s)}},Kt.ua=function(){"undefined"!=typeof Yt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))},Kt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rr(this,"complete"),rr(this,"abort"),oa(this))},Kt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oa(this,!0)),Zi.$.N.call(this)},Kt.La=function(){this.s||(this.G||this.v||this.l?aa(this):this.kb())},Kt.kb=function(){aa(this)},Kt.isActive=function(){return!!this.g},Kt.da=function(){try{return 2<ua(this)?this.g.status:-1}catch($k){return-1}},Kt.ja=function(){try{return this.g?this.g.responseText:""}catch($k){return""}},Kt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ji(t)}},Kt.Ia=function(){return this.m},Kt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Kt=da.prototype).ra=8,Kt.H=1,Kt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Qr(this,this.l,e),n=this.s;if(this.U&&(n?Un(n=jn(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ba(this,t,r),yi(i=di(this.I),"RID",e),yi(i,"CVER",22),this.F&&yi(i,"X-HTTP-Session-Id",this.F),ka(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(la(n)))+"&"+r:this.o&&fa(i,this.o,n)),Fi(this.i,t),this.bb&&yi(i,"TYPE","init"),this.P?(yi(i,"$req",r),yi(i,"SID","null"),t.aa=!0,Zr(t,i,null)):Zr(t,i,r),this.H=2}}else 3==this.H&&(e?ga(this,e):0==this.j.length||Mi(this.i)||ga(this))},Kt.Ma=function(){if(this.u=null,Sa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Vr(rn(this.jb,this),e)}},Kt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lr(10),va(this),Sa(this))},Kt.ib=function(){null!=this.v&&(this.v=null,va(this),xa(this),Lr(19))},Kt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Lr(2)):(this.l.info("Failed to ping google.com"),Lr(1))},Kt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Kt=Ra.prototype).Ba=function(){},Kt.Aa=function(){},Kt.za=function(){},Kt.ya=function(){},Kt.isActive=function(){return!0},Kt.Va=function(){},Oa.prototype.g=function(e,t){return new Da(e,t)},on(Da,nr),Da.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Lr(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Pa(e,null,e.Y),ya(e)},Da.prototype.close=function(){pa(this.g)},Da.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ar(e),e=n);t.j.push(new Oi(t.fb++,e)),3==t.H&&ya(t)},Da.prototype.N=function(){this.g.h=null,delete this.j,pa(this.g),delete this.g,Da.$.N.call(this)},on(La,Wr),on(Ma,Kr),on(Va,Ra),Va.prototype.Ba=function(){rr(this.g,"a")},Va.prototype.Aa=function(e){rr(this.g,new La(e))},Va.prototype.za=function(e){rr(this.g,new Ma)},Va.prototype.ya=function(){rr(this.g,"b")},on(ja,(function(){this.blockSize=-1})),ja.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ja.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Fa(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Fa(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Fa(this,r),i=0;break}}this.h=i,this.i+=t},ja.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var za={};function Ba(e){return-128<=e&&128>e?function(e,t){var n=za;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ua([0|e],0>e?-1:0)})):new Ua([0|e],0>e?-1:0)}function qa(e){if(isNaN(e)||!isFinite(e))return Wa;if(0>e)return $a(qa(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ha;return new Ua(t,0)}var Ha=4294967296,Wa=Ba(0),Ka=Ba(1),Ga=Ba(16777216);function Qa(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ya(e){return-1==e.h}function $a(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ua(n,~e.h).add(Ka)}function Xa(e,t){return e.add($a(t))}function Ja(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Za(e,t){this.g=e,this.h=t}function eo(e,t){if(Qa(t))throw Error("division by zero");if(Qa(e))return new Za(Wa,Wa);if(Ya(e))return t=eo($a(e),t),new Za($a(t.g),$a(t.h));if(Ya(t))return t=eo(e,$a(t)),new Za($a(t.g),t.h);if(30<e.g.length){if(Ya(e)||Ya(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ka,r=t;0>=r.X(e);)n=to(n),r=to(r);var i=no(n,1),a=no(r,1);for(r=no(r,2),n=no(n,2);!Qa(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=no(r,1),n=no(n,1)}return t=Xa(e,i.R(t)),new Za(i,t)}for(i=Wa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=qa(n)).R(t);Ya(o)||0<o.X(e);)o=(a=qa(n-=r)).R(t);Qa(a)&&(a=Ka),i=i.add(a),e=Xa(e,o)}return new Za(i,e)}function to(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ua(n,e.h)}function no(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ua(i,e.h)}(Kt=Ua.prototype).ea=function(){if(Ya(this))return-$a(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ha+r)*t,t*=Ha}return e},Kt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Qa(this))return"0";if(Ya(this))return"-"+$a(this).toString(e);for(var t=qa(Math.pow(e,6)),n=this,r="";;){var i=eo(n,t).g,a=((0<(n=Xa(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Qa(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Kt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Kt.X=function(e){return Ya(e=Xa(this,e))?-1:Qa(e)?0:1},Kt.abs=function(){return Ya(this)?$a(this):this},Kt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ua(n,-2147483648&n[n.length-1]?-1:0)},Kt.R=function(e){if(Qa(this)||Qa(e))return Wa;if(Ya(this))return Ya(e)?$a(this).R($a(e)):$a($a(this).R(e));if(Ya(e))return $a(this.R($a(e)));if(0>this.X(Ga)&&0>e.X(Ga))return qa(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Ja(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Ja(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Ja(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Ja(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ua(n,0)},Kt.gb=function(e){return eo(this,e).h},Kt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ua(n,this.h&e.h)},Kt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ua(n,this.h|e.h)},Kt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ua(n,this.h^e.h)},Oa.prototype.createWebChannel=Oa.prototype.g,Da.prototype.send=Da.prototype.u,Da.prototype.open=Da.prototype.m,Da.prototype.close=Da.prototype.close,jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Fr.COMPLETE="complete",Br.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",nr.prototype.listen=nr.prototype.O,Zi.prototype.listenOnce=Zi.prototype.P,Zi.prototype.getLastError=Zi.prototype.Sa,Zi.prototype.getLastErrorCode=Zi.prototype.Ia,Zi.prototype.getStatus=Zi.prototype.da,Zi.prototype.getResponseJson=Zi.prototype.Wa,Zi.prototype.getResponseText=Zi.prototype.ja,Zi.prototype.send=Zi.prototype.ha,Zi.prototype.setWithCredentials=Zi.prototype.Oa,ja.prototype.digest=ja.prototype.l,ja.prototype.reset=ja.prototype.reset,ja.prototype.update=ja.prototype.j,Ua.prototype.add=Ua.prototype.add,Ua.prototype.multiply=Ua.prototype.R,Ua.prototype.modulo=Ua.prototype.gb,Ua.prototype.compare=Ua.prototype.X,Ua.prototype.toNumber=Ua.prototype.ea,Ua.prototype.toString=Ua.prototype.toString,Ua.prototype.getBits=Ua.prototype.D,Ua.fromNumber=qa,Ua.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return $a(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=qa(Math.pow(n,8)),i=Wa,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=qa(Math.pow(n,o)),i=i.R(o).add(qa(s))):i=(i=i.R(r)).add(qa(s))}return i};var ro=Qt.createWebChannelTransport=function(){return new Oa},io=Qt.getStatEventTarget=function(){return Nr()},ao=Qt.ErrorCode=jr,oo=Qt.EventType=Fr,so=Qt.Event=Ar,uo=Qt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},co=Qt.FetchXmlHttpFactory=Ki,lo=Qt.WebChannel=Br,fo=Qt.XhrIo=Zi,ho=Qt.Md5=ja,po=Qt.Integer=Ua,vo="@firebase/firestore",mo=function(){function e(t){C(this,e),this.uid=t}return A(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();mo.UNAUTHENTICATED=new mo(null),mo.GOOGLE_CREDENTIALS=new mo("google-credentials-uid"),mo.FIRST_PARTY=new mo("first-party-uid"),mo.MOCK_USER=new mo("mock-user");var yo="9.22.1",go=new We("@firebase/firestore");function ko(){return go.logLevel}function bo(e){if(go.logLevel<=je.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Eo);go.debug.apply(go,["Firestore (".concat(yo,"): ").concat(e)].concat(a(i)))}}function wo(e){if(go.logLevel<=je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Eo);go.error.apply(go,["Firestore (".concat(yo,"): ").concat(e)].concat(a(i)))}}function xo(e){if(go.logLevel<=je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Eo);go.warn.apply(go,["Firestore (".concat(yo,"): ").concat(e)].concat(a(i)))}}function Eo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(yo,") INTERNAL ASSERTION FAILED: ")+e;throw wo(t),new Error(t)}function To(e,t){e||So()}function _o(e,t){return e}var Co={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Io=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return A(n)}(xe),Ao=A((function e(){var t=this;C(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Po=A((function e(t,n){C(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),No=function(){function e(){C(this,e)}return A(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mo.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ro=function(){function e(t){C(this,e),this.token=t,this.changeListener=null}return A(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Oo=function(){function e(t){C(this,e),this.t=t,this.currentUser=mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ao;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ao,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){bo("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(bo("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ao)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(To("string"==typeof n.accessToken),new Po(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return To(null===e||"string"==typeof e),new mo(e)}}]),e}(),Do=function(){function e(t,n,r){C(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=mo.FIRST_PARTY,this.g=new Map}return A(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Lo=function(){function e(t,n,r){C(this,e),this.h=t,this.l=n,this.m=r}return A(e,[{key:"getToken",value:function(){return Promise.resolve(new Do(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mo.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Mo=A((function e(t){C(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vo=function(){function e(t){C(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,bo("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bo("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):bo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(To("string"==typeof t.token),e.T=t.token,new Mo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function jo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Fo=function(){function e(){C(this,e)}return A(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=jo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Uo(e,t){return e<t?-1:e>t?1:0}function zo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Bo=function(){function e(t,n){if(C(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Io(Co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Io(Co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Io(Co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Io(Co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return A(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Uo(this.nanoseconds,e.nanoseconds):Uo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),qo=function(){function e(t){C(this,e),this.timestamp=t}return A(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bo(0,0))}},{key:"max",value:function(){return new e(new Bo(253402300799,999999999))}}]),e}(),Ho=function(){function e(t,n,r){C(this,e),void 0===n?n=0:n>t.length&&So(),void 0===r?r=t.length-n:r>t.length-n&&So(),this.segments=t,this.offset=n,this.len=r}return A(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Wo=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,s=r;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new Io(Co.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,a(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ho),Ko=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Go=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ko.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Io(Co.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Io(Co.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Io(Co.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Io(Co.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ho),Qo=function(){function e(t){C(this,e),this.path=t}return A(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Wo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Wo.fromString(t))}},{key:"fromName",value:function(t){return new e(Wo.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Wo.emptyPath())}},{key:"comparator",value:function(e,t){return Wo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Wo(t.slice()))}}]),e}(),Yo=A((function e(t,n,r,i){C(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Yo.UNKNOWN_ID=-1;function $o(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qo.fromTimestamp(1e9===r?new Bo(n+1,0):new Bo(n,r));return new Jo(i,Qo.empty(),t)}function Xo(e){return new Jo(e.readTime,e.key,-1)}var Jo=function(){function e(t,n,r){C(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return A(e,null,[{key:"min",value:function(){return new e(qo.min(),Qo.empty(),-1)}},{key:"max",value:function(){return new e(qo.max(),Qo.empty(),-1)}}]),e}();function Zo(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Qo.comparator(e.documentKey,t.documentKey))?n:Uo(e.largestBatchId,t.largestBatchId)}var es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ts=function(){function e(){C(this,e),this.onCommittedListeners=[]}return A(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ns(e){return rs.apply(this,arguments)}function rs(){return rs=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Co.FAILED_PRECONDITION&&t.message===es){e.next=2;break}throw t;case 2:bo("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(){function e(t){var n=this;C(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return A(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&So(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function as(e){return"IndexedDbTransactionError"===e.name}var os=function(){function e(t,n){var r=this;C(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return A(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function ss(e){return null==e}function us(e){return 0===e&&1/e==-1/0}function cs(e){return"number"==typeof e&&Number.isInteger(e)&&!us(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}os.ct=-1;var ls=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),fs=([].concat(a(ls),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),hs=fs;[].concat(hs,["indexConfiguration","indexState","indexEntries"]);function ds(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ps(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ms=function(){function e(t,n){C(this,e),this.comparator=t,this.root=n||gs.EMPTY}return A(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ys(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ys(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ys(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ys(this.root,e,this.comparator,!0)}}]),e}(),ys=function(){function e(t,n,r,i){C(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return A(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),gs=function(){function e(t,n,r,i,a){C(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return A(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw So();if(this.right.isRed())throw So();var e=this.left.check();if(e!==this.right.check())throw So();return e+(this.isRed()?0:1)}}]),e}();gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new(function(){function e(){C(this,e),this.size=0}return A(e,[{key:"key",get:function(){throw So()}},{key:"value",get:function(){throw So()}},{key:"color",get:function(){throw So()}},{key:"left",get:function(){throw So()}},{key:"right",get:function(){throw So()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ks=function(){function e(t){C(this,e),this.comparator=t,this.data=new ms(this.comparator)}return A(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new bs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new bs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),bs=function(){function e(t){C(this,e),this.iter=t}return A(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ws=function(){function e(t){C(this,e),this.fields=t,t.sort(Go.comparator)}return A(e,[{key:"unionWith",value:function(t){var n,r=new ks(Go.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=S(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),xs=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return A(n)}(ue(Error));var Es=function(e){function t(e){C(this,t),this.binaryString=e}return A(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Uo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xs("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Es.EMPTY_BYTE_STRING=new Es("");var Ss=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(e){if(To(!!e),"string"==typeof e){var t=0,n=Ss.exec(e);if(To(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_s(e.seconds),nanos:_s(e.nanos)}}function _s(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cs(e){return"string"==typeof e?Es.fromBase64String(e):Es.fromUint8Array(e)}function Is(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function As(e){var t=e.mapValue.fields.__previous_value__;return Is(t)?As(t):t}function Ps(e){var t=Ts(e.mapValue.fields.__local_write_time__.timestampValue);return new Bo(t.seconds,t.nanos)}var Ns=A((function e(t,n,r,i,a,o,s,u,c){C(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Rs=function(){function e(t,n){C(this,e),this.projectId=t,this.database=n||"(default)"}return A(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Is(e)?4:Qs(e)?9007199254740991:10:So()}function Ls(e,t){if(e===t)return!0;var n=Ds(e);if(n!==Ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ps(e).isEqual(Ps(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ts(e.timestampValue),r=Ts(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cs(e.bytesValue).isEqual(Cs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _s(e.geoPointValue.latitude)===_s(t.geoPointValue.latitude)&&_s(e.geoPointValue.longitude)===_s(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _s(e.integerValue)===_s(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_s(e.doubleValue),r=_s(t.doubleValue);return n===r?us(n)===us(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zo(e.arrayValue.values||[],t.arrayValue.values||[],Ls);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ds(n)!==ds(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ls(n[i],r[i])))return!1;return!0}(e,t);default:return So()}}function Ms(e,t){return void 0!==(e.values||[]).find((function(e){return Ls(e,t)}))}function Vs(e,t){if(e===t)return 0;var n=Ds(e),r=Ds(t);if(n!==r)return Uo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Uo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_s(e.integerValue||e.doubleValue),r=_s(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return js(e.timestampValue,t.timestampValue);case 4:return js(Ps(e),Ps(t));case 5:return Uo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cs(e),r=Cs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Uo(n[i],r[i]);if(0!==a)return a}return Uo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Uo(_s(e.latitude),_s(t.latitude));return 0!==n?n:Uo(_s(e.longitude),_s(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vs(n[i],r[i]);if(a)return a}return Uo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Os.mapValue&&t===Os.mapValue)return 0;if(e===Os.mapValue)return 1;if(t===Os.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Uo(r[o],a[o]);if(0!==s)return s;var u=Vs(n[r[o]],i[a[o]]);if(0!==u)return u}return Uo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw So()}}function js(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Uo(e,t);var n=Ts(e),r=Ts(t),i=Uo(n.seconds,r.seconds);return 0!==i?i:Uo(n.nanos,r.nanos)}function Fs(e){return Us(e)}function Us(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ts(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Qo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Us(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Us(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):So();var t,n}function zs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Bs(e){return!!e&&"integerValue"in e}function qs(e){return!!e&&"arrayValue"in e}function Hs(e){return!!e&&"nullValue"in e}function Ws(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ks(e){return!!e&&"mapValue"in e}function Gs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ps(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ys=function(){function e(t){C(this,e),this.value=t}return A(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ks(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gs(t)}},{key:"setAll",value:function(e){var t=this,n=Go.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ks(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ls(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ks(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ps(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $s(e){var t=[];return ps(e.fields,(function(e,n){var r=new Go([e]);if(Ks(n)){var i=$s(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ws(t)}var Xs=function(){function e(t,n,r,i,a,o,s){C(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return A(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(qo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=qo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,qo.min(),qo.min(),qo.min(),Ys.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,qo.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,qo.min(),qo.min(),Ys.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,qo.min(),qo.min(),Ys.empty(),2)}}]),e}(),Js=A((function e(t,n){C(this,e),this.position=t,this.inclusive=n}));function Zs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Qo.comparator(Qo.fromName(o.referenceValue),n.key):Vs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function eu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ls(e.position[n],t.position[n]))return!1;return!0}var tu=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";C(this,e),this.field=t,this.dir=n}));function nu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ru=A((function e(){C(this,e)})),iu=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vs(t,this.value)):null!==t&&Ds(this.value)===Ds(t)&&this.matchesComparison(Vs(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return So()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hu(e,t,r):"array-contains"===t?new mu(e,r):"in"===t?new yu(e,r):"not-in"===t?new gu(e,r):"array-contains-any"===t?new ku(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new du(e,n):new pu(e,n)}}]),n}(ru),au=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return A(n,[{key:"matches",value:function(e){return ou(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ru);function ou(e){return"and"===e.op}function su(e){return uu(e)&&ou(e)}function uu(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof au)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function cu(e){if(e instanceof iu)return e.field.canonicalString()+e.op.toString()+Fs(e.value);if(su(e))return e.filters.map((function(e){return cu(e)})).join(",");var t=e.filters.map((function(e){return cu(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function lu(e,t){return e instanceof iu?function(e,t){return t instanceof iu&&e.op===t.op&&e.field.isEqual(t.field)&&Ls(e.value,t.value)}(e,t):e instanceof au?function(e,t){return t instanceof au&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&lu(n,t.filters[r])}),!0)}(e,t):void So()}function fu(e){return e instanceof iu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fs(e.value))}(e):e instanceof au?function(e){return e.op.toString()+" {"+e.getFilters().map(fu).join(" ,")+"}"}(e):"Filter"}var hu=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,i)).key=Qo.fromName(i.referenceValue),a}return A(n,[{key:"matches",value:function(e){var t=Qo.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(iu),du=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"in",r)).keys=vu("in",r),i}return A(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iu),pu=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"not-in",r)).keys=vu("not-in",r),i}return A(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iu);function vu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Qo.fromName(e.referenceValue)}))}var mu=function(e){N(n,e);var t=L(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qs(t)&&Ms(t.arrayValue,this.value)}}]),n}(iu),yu=function(e){N(n,e);var t=L(n);function n(e,r){return C(this,n),t.call(this,e,"in",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ms(this.value.arrayValue,t)}}]),n}(iu),gu=function(e){N(n,e);var t=L(n);function n(e,r){return C(this,n),t.call(this,e,"not-in",r)}return A(n,[{key:"matches",value:function(e){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ms(this.value.arrayValue,t)}}]),n}(iu),ku=function(e){N(n,e);var t=L(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains-any",r)}return A(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ms(t.value.arrayValue,e)}))}}]),n}(iu),bu=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;C(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function wu(e){return new bu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xu(e){var t=_o(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return cu(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ss(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fs(e)})).join(",")),t.dt=n}return t.dt}function Eu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!nu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!lu(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eu(e.startAt,t.startAt)&&eu(e.endAt,t.endAt)}function Su(e){return Qo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Tu=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;C(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function _u(e,t,n,r,i,a,o,s){return new Tu(e,t,n,r,i,a,o,s)}function Cu(e){return new Tu(e)}function Iu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Au(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pu(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Nu(e){return null!==e.collectionGroup}function Ru(e){var t=_o(e);if(null===t.wt){t.wt=[];var n=Pu(t),r=Au(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new tu(n)),t.wt.push(new tu(Go.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tu(Go.keyField(),u))}}}return t.wt}function Ou(e){var t=_o(e);if(!t._t)if("F"===t.limitType)t._t=wu(t.path,t.collectionGroup,Ru(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(Ru(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new tu(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;t._t=wu(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Du(e,t){t.getFirstInequalityField(),Pu(e);var n=e.filters.concat([t]);return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lu(e,t,n){return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mu(e,t){return Eu(Ou(e),Ou(t))&&e.limitType===t.limitType}function Vu(e){return"".concat(xu(Ou(e)),"|lt:").concat(e.limitType)}function ju(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return fu(e)})).join(", "),"]")),ss(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fs(e)})).join(",")),"Target(".concat(t,")")}(Ou(e)),"; limitType=").concat(e.limitType,")")}function Fu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(Ru(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Zs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ru(e),t))&&!(e.endAt&&!function(e,t,n){var r=Zs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ru(e),t))}(e,t)}function Uu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zu(e){return function(t,n){var r,i=!1,a=S(Ru(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Bu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Bu(e,t,n){var r=e.field.isKeyField()?Qo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vs(r,i):So()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return So()}}var qu=function(){function e(t,n){C(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return A(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ps(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Hu=new ms(Qo.comparator);function Wu(){return Hu}var Ku=new ms(Qo.comparator);function Gu(){for(var e=Ku,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Qu(e){var t=Ku;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Yu(){return Xu()}function $u(){return Xu()}function Xu(){return new qu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ju=new ms(Qo.comparator),Zu=new ks(Qo.comparator);function ec(){for(var e=Zu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var tc=new ks(Uo);function nc(){return tc}function rc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:us(t)?"-0":t}}function ic(e){return{integerValue:""+e}}function ac(e,t){return cs(t)?ic(t):rc(e,t)}var oc=A((function e(){C(this,e),this._=void 0}));function sc(e,t,n){return e instanceof lc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Is(t)&&(t=As(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fc?hc(e,t):e instanceof dc?pc(e,t):function(e,t){var n=cc(e,t),r=mc(n)+mc(e.gt);return Bs(n)&&Bs(e.gt)?ic(r):rc(e.serializer,r)}(e,t)}function uc(e,t,n){return e instanceof fc?hc(e,t):e instanceof dc?pc(e,t):n}function cc(e,t){return e instanceof vc?Bs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var lc=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n)}(oc),fc=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return A(n)}(oc);function hc(e,t){var n,r=yc(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ls(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dc=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return A(n)}(oc);function pc(e,t){var n,r=yc(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ls(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vc=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return A(n)}(oc);function mc(e){return _s(e.integerValue||e.doubleValue)}function yc(e){return qs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gc=A((function e(t,n){C(this,e),this.version=t,this.transformResults=n})),kc=function(){function e(t,n){C(this,e),this.updateTime=t,this.exists=n}return A(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function bc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var wc=A((function e(){C(this,e)}));function xc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dc(e.key,kc.none()):new Cc(e.key,e.data,kc.none());var n,r=e.data,i=Ys.empty(),a=new ks(Go.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Ic(e.key,i,new ws(a.toArray()),kc.none())}function Ec(e,t,n){e instanceof Cc?function(e,t,n){var r=e.value.clone(),i=Pc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ic?function(e,t,n){if(bc(e.precondition,t)){var r=Pc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ac(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sc(e,t,n,r){return e instanceof Cc?function(e,t,n,r){if(!bc(e.precondition,t))return n;var i=e.value.clone(),a=Nc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ic?function(e,t,n,r){if(!bc(e.precondition,t))return n;var i=Nc(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ac(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return bc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tc(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=cc(a.transform,o||null);null!=s&&(null===r&&(r=Ys.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function _c(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fc&&t instanceof fc||e instanceof dc&&t instanceof dc?zo(e.elements,t.elements,Ls):e instanceof vc&&t instanceof vc?Ls(e.gt,t.gt):e instanceof lc&&t instanceof lc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Cc=function(e){N(n,e);var t=L(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return C(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wc),Ic=function(e){N(n,e);var t=L(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return C(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return A(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(wc);function Ac(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Pc(e,t,n){var r=new Map;To(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,uc(o,s,n[i]))}return r}function Nc(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,sc(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Rc,Oc,Dc=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wc),Lc=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(wc),Mc=function(){function e(t,n,r,i){C(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return A(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ec(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Sc(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Sc(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=$u();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=xc(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(qo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ec())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(function(e,t){return _c(e,t)}))&&zo(this.baseMutations,e.baseMutations,(function(e,t){return _c(e,t)}))}}]),e}(),Vc=function(){function e(t,n,r,i){C(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return A(e,null,[{key:"from",value:function(t,n,r){To(t.mutations.length===r.length);for(var i=Ju,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),jc=function(){function e(t,n){C(this,e),this.largestBatchId=t,this.mutation=n}return A(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Fc=A((function e(t,n){C(this,e),this.count=t,this.unchangedNames=n}));function Uc(e){switch(e){default:return So();case Co.CANCELLED:case Co.UNKNOWN:case Co.DEADLINE_EXCEEDED:case Co.RESOURCE_EXHAUSTED:case Co.INTERNAL:case Co.UNAVAILABLE:case Co.UNAUTHENTICATED:return!1;case Co.INVALID_ARGUMENT:case Co.NOT_FOUND:case Co.ALREADY_EXISTS:case Co.PERMISSION_DENIED:case Co.FAILED_PRECONDITION:case Co.ABORTED:case Co.OUT_OF_RANGE:case Co.UNIMPLEMENTED:case Co.DATA_LOSS:return!0}}function zc(e){if(void 0===e)return wo("GRPC error has no .code"),Co.UNKNOWN;switch(e){case Rc.OK:return Co.OK;case Rc.CANCELLED:return Co.CANCELLED;case Rc.UNKNOWN:return Co.UNKNOWN;case Rc.DEADLINE_EXCEEDED:return Co.DEADLINE_EXCEEDED;case Rc.RESOURCE_EXHAUSTED:return Co.RESOURCE_EXHAUSTED;case Rc.INTERNAL:return Co.INTERNAL;case Rc.UNAVAILABLE:return Co.UNAVAILABLE;case Rc.UNAUTHENTICATED:return Co.UNAUTHENTICATED;case Rc.INVALID_ARGUMENT:return Co.INVALID_ARGUMENT;case Rc.NOT_FOUND:return Co.NOT_FOUND;case Rc.ALREADY_EXISTS:return Co.ALREADY_EXISTS;case Rc.PERMISSION_DENIED:return Co.PERMISSION_DENIED;case Rc.FAILED_PRECONDITION:return Co.FAILED_PRECONDITION;case Rc.ABORTED:return Co.ABORTED;case Rc.OUT_OF_RANGE:return Co.OUT_OF_RANGE;case Rc.UNIMPLEMENTED:return Co.UNIMPLEMENTED;case Rc.DATA_LOSS:return Co.DATA_LOSS;default:return So()}}(Oc=Rc||(Rc={}))[Oc.OK=0]="OK",Oc[Oc.CANCELLED=1]="CANCELLED",Oc[Oc.UNKNOWN=2]="UNKNOWN",Oc[Oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oc[Oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oc[Oc.NOT_FOUND=5]="NOT_FOUND",Oc[Oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oc[Oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oc[Oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oc[Oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oc[Oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oc[Oc.ABORTED=10]="ABORTED",Oc[Oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oc[Oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oc[Oc.INTERNAL=13]="INTERNAL",Oc[Oc.UNAVAILABLE=14]="UNAVAILABLE",Oc[Oc.DATA_LOSS=15]="DATA_LOSS";var Bc=function(){function e(){C(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return A(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return qc}},{key:"getOrCreateInstance",value:function(){return null===qc&&(qc=new e),qc}}]),e}(),qc=null;function Hc(){return new TextEncoder}var Wc=new po([4294967295,4294967295],0);function Kc(e){var t=Hc().encode(e),n=new ho;return n.update(t),new Uint8Array(n.digest())}function Gc(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new po([n,r],0),new po([i,a],0)]}var Qc=function(){function e(t,n,r){if(C(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yc("Invalid padding: ".concat(n));if(r<0)throw new Yc("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Yc("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Yc("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=po.fromNumber(this.It)}return A(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(po.fromNumber(n)));return 1===r.compare(Wc)&&(r=new po([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=f(Gc(Kc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=f(Gc(Kc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Yc=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return A(n)}(ue(Error)),$c=function(){function e(t,n,r,i,a){C(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return A(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Xc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(qo.min(),i,new ms(Uo),Wu(),ec())}}]),e}(),Xc=function(){function e(t,n,r,i,a){C(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return A(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ec(),ec(),ec())}}]),e}(),Jc=A((function e(t,n,r,i){C(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Zc=A((function e(t,n){C(this,e),this.targetId=t,this.Vt=n})),el=A((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Es.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;C(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),tl=function(){function e(){C(this,e),this.St=0,this.Dt=il(),this.Ct=Es.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return A(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=ec(),t=ec(),n=ec();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:So()}})),new Xc(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=il()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),nl=function(){function e(t){C(this,e),this.Gt=t,this.Qt=new Map,this.jt=Wu(),this.zt=rl(),this.Wt=new ms(Uo)}return A(e,[{key:"Ht",value:function(e){var t,n=S(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:So()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Su(a))if(0===r){var o=new Qo(a.path);this.Yt(n,o,Xs.newNoDocument(o,qo.min()))}else To(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Bc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Cs(c).toUint8Array()}catch(e){if(e instanceof xs)return xo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Qc(a,f,d)}catch(e){return xo(e instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Su(a.target)){var o=new Qo(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Xs.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=ec();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new $c(e,n,this.Wt,this.jt,r);return this.jt=Wu(),this.zt=rl(),this.Wt=new ms(Uo),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new tl,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new ks(Uo),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||bo("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new tl),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function rl(){return new ms(Qo.comparator)}function il(){return new ms(Qo.comparator)}var al={asc:"ASCENDING",desc:"DESCENDING"},ol={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sl={and:"AND",or:"OR"},ul=A((function e(t,n){C(this,e),this.databaseId=t,this.useProto3Json=n}));function cl(e,t){return e.useProto3Json||ss(t)?t:{value:t}}function ll(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hl(e,t){return ll(e,t.toTimestamp())}function dl(e){return To(!!e),qo.fromTimestamp(function(e){var t=Ts(e);return new Bo(t.seconds,t.nanos)}(e))}function pl(e,t){return function(e){return new Wo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vl(e){var t=Wo.fromString(e);return To(Ll(t)),t}function ml(e,t){return pl(e.databaseId,t.path)}function yl(e,t){var n=vl(t);if(n.get(1)!==e.databaseId.projectId)throw new Io(Co.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Io(Co.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qo(wl(n))}function gl(e,t){return pl(e.databaseId,t)}function kl(e){var t=vl(e);return 4===t.length?Wo.emptyPath():wl(t)}function bl(e){return new Wo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wl(e){return To(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xl(e,t,n){return{name:ml(e,t),fields:n.value.mapValue.fields}}function El(e,t){var n;if(t instanceof Cc)n={update:xl(e,t.key,t.value)};else if(t instanceof Dc)n={delete:ml(e,t.key)};else if(t instanceof Ic)n={update:xl(e,t.key,t.data),updateMask:Dl(t.fieldMask)};else{if(!(t instanceof Lc))return So();n={verify:ml(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vc)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw So()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:So()}(e,t.precondition)),n}function Sl(e,t){return{documents:[gl(e,t.path)]}}function Tl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ol(au.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Nl(e.field),direction:Il(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=cl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _l(e){var t=kl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){To(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Cl(e);return t instanceof au&&su(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new tu(Rl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ss(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Js(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Js(n,t)}(n.endAt)),_u(t,i,s,o,u,"F",c,l)}function Cl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Rl(e.unaryFilter.field);return iu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Rl(e.unaryFilter.field);return iu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rl(e.unaryFilter.field);return iu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Rl(e.unaryFilter.field);return iu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return So()}}(e):void 0!==e.fieldFilter?function(e){return iu.create(Rl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return So()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return au.create(e.compositeFilter.filters.map((function(e){return Cl(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return So()}}(e.compositeFilter.op))}(e):So()}function Il(e){return al[e]}function Al(e){return ol[e]}function Pl(e){return sl[e]}function Nl(e){return{fieldPath:e.canonicalString()}}function Rl(e){return Go.fromServerFormat(e.fieldPath)}function Ol(e){return e instanceof iu?function(e){if("=="===e.op){if(Ws(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(Hs(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ws(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(Hs(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:Al(e.op),value:e.value}}}(e):e instanceof au?function(e){var t=e.getFilters().map((function(e){return Ol(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Pl(e.op),filters:t}}}(e):So()}function Dl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ml=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Es.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;C(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return A(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Vl=A((function e(t){C(this,e),this.fe=t}));function jl(e){var t=_l({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lu(t,t.limit,"L"):t}var Fl=function(){function e(){C(this,e)}return A(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(_s(e.integerValue));else if("doubleValue"in e){var n=_s(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),us(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Cs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Qs(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):So()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Qo.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();Fl.Ve=new Fl;var Ul=function(){function e(){C(this,e),this.rn=new zl}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),is.resolve()}},{key:"getCollectionParents",value:function(e,t){return is.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return is.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return is.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return is.resolve(null)}},{key:"getIndexType",value:function(e,t){return is.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return is.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return is.resolve(null)}},{key:"getMinOffset",value:function(e,t){return is.resolve(Jo.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return is.resolve(Jo.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return is.resolve()}},{key:"updateIndexEntries",value:function(e,t){return is.resolve()}}]),e}(),zl=function(){function e(){C(this,e),this.index={}}return A(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(Wo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ks(Wo.comparator)).toArray()}}]),e}();new Uint8Array(0);var Bl=function(){function e(t,n,r){C(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return A(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Bl.DEFAULT_COLLECTION_PERCENTILE=10,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bl.DEFAULT=new Bl(41943040,Bl.DEFAULT_COLLECTION_PERCENTILE,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bl.DISABLED=new Bl(-1,0,0);var ql=function(){function e(t){C(this,e),this.Nn=t}return A(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var Hl=function(){function e(){C(this,e),this.changes=new qu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return A(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?is.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Wl=A((function e(t,n){C(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Kl=function(){function e(t,n,r,i){C(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return A(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Sc(r.mutation,e,ws.empty(),Bo.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ec()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ec(),i=Yu();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Gu();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yu();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ec())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Wu(),a=Xu(),o=Xu();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ic)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Sc(o.mutation,t,o.mutation.getFieldMask(),Bo.now())):a.set(t.key,ws.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Wl(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xu(),i=new ms((function(e,t){return e-t})),a=ec();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ws.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||ec()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=$u();c.forEach((function(e){if(!a.has(e)){var n=xc(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return is.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Qo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):is.resolve(Yu()),s=-1,u=a;return o.next((function(t){return is.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?is.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,ec())})).next((function(e){return{batchId:s,changes:Qu(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Qo(t)).next((function(e){var t=Gu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Gu();return this.indexManager.getCollectionParents(e,i).next((function(o){return is.forEach(o,(function(o){var s=function(e,t){return new Tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xs.newInvalidDocument(r)))}));var n=Gu();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Sc(a.mutation,i,ws.empty(),Bo.now()),Fu(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Gl=function(){function e(t){C(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return A(e,[{key:"getBundleMetadata",value:function(e,t){return is.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:dl(n.createTime)}),is.resolve()}},{key:"getNamedQuery",value:function(e,t){return is.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:jl(e.bundledQuery),readTime:dl(e.readTime)}}(t)),is.resolve()}}]),e}(),Ql=function(){function e(){C(this,e),this.overlays=new ms(Qo.comparator),this.ls=new Map}return A(e,[{key:"getOverlay",value:function(e,t){return is.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yu();return is.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),is.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),is.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yu(),i=t.length+1,a=new Qo(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return is.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ms((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Yu(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Yu(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return is.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new jc(t,n));var a=this.ls.get(t);void 0===a&&(a=ec(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Yl=function(){function e(){C(this,e),this.fs=new ks($l.ds),this.ws=new ks($l._s)}return A(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new $l(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new $l(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Qo(new Wo([])),r=new $l(n,e),i=new $l(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Qo(new Wo([])),n=new $l(t,e),r=new $l(t,e+1),i=ec();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new $l(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),$l=function(){function e(t,n){C(this,e),this.key=t,this.As=n}return A(e,null,[{key:"ds",value:function(e,t){return Qo.comparator(e.key,t.key)||Uo(e.As,t.As)}},{key:"_s",value:function(e,t){return Uo(e.As,t.As)||Qo.comparator(e.key,t.key)}}]),e}(),Xl=function(){function e(t,n){C(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ks($l.ds)}return A(e,[{key:"checkEmpty",value:function(e){return is.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Mc(i,t,n,r);this.mutationQueue.push(a);var o,s=S(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new $l(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return is.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return is.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return is.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return is.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return is.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new $l(t,0),i=new $l(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),is.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(Uo);return t.forEach((function(e){var t=new $l(e,0),i=new $l(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),is.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Qo.isDocumentKey(i)||(i=i.child(""));var a=new $l(new Qo(i),0),o=new ks(Uo);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),is.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;To(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return is.forEach(t.mutations,(function(i){var a=new $l(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new $l(t,0),r=this.Rs.firstAfterOrEqual(n);return is.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,is.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Jl=function(){function e(t){C(this,e),this.Ds=t,this.docs=new ms(Qo.comparator),this.size=0}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return is.resolve(n?n.document.mutableCopy():Xs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Wu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xs.newInvalidDocument(e))})),is.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Wu(),a=t.path,o=new Qo(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Zo(Xo(l),n)<=0||(r.has(l.key)||Fu(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return is.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){So()}},{key:"Cs",value:function(e,t){return is.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zl(this)}},{key:"getSize",value:function(e){return is.resolve(this.size)}}]),e}(),Zl=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this)).os=e,r}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),is.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Hl),ef=function(){function e(t){C(this,e),this.persistence=t,this.xs=new qu((function(e){return xu(e)}),Eu),this.lastRemoteSnapshotVersion=qo.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yl,this.targetCount=0,this.Ms=ql.kn()}return A(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),is.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return is.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return is.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),is.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),is.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,is.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),is.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,is.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),is.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return is.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return is.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),is.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),is.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),is.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return is.resolve(n)}},{key:"containsKey",value:function(e,t){return is.resolve(this.ks.containsKey(t))}}]),e}(),tf=function(){function e(t,n){var r=this;C(this,e),this.$s={},this.overlays={},this.Os=new os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new ef(this),this.indexManager=new Ul,this.remoteDocumentCache=new Jl((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Vl(n),this.qs=new Gl(this.serializer)}return A(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ql,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Xl(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;bo("MemoryPersistence","Starting transaction:",e);var i=new nf(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return is.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nf=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return A(n)}(ts),rf=function(){function e(t){C(this,e),this.persistence=t,this.Qs=new Yl,this.js=null}return A(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw So()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),is.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),is.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),is.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return is.forEach(this.Ws,(function(r){var i=Qo.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,qo.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return is.or([function(){return is.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var af=function(){function e(t,n,r,i){C(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return A(e,null,[{key:"Li",value:function(t,n){var r,i=ec(),a=ec(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),of=function(){function e(){C(this,e),this.qi=!1}return A(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(Iu(t))return is.resolve(null);var r=Ou(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Lu(t,null,"F"),r=Ou(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=ec.apply(void 0,a(i));return n.Ui.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.ji(t,i);return n.zi(t,a,o,r.readTime)?n.Ki(e,Lu(t,null,"F")):n.Wi(e,a,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Iu(t)||r.isEqual(qo.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(ko()<=je.DEBUG&&bo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ju(t)),i.Wi(e,o,t,$o(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new ks(zu(e));return t.forEach((function(t,r){Fu(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return ko()<=je.DEBUG&&bo("QueryEngine","Using full collection scan to execute query:",ju(t)),this.Ui.getDocumentsMatchingQuery(e,t,Jo.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),sf=function(){function e(t,n,r,i){C(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new ms(Uo),this.Yi=new qu((function(e){return xu(e)}),Eu),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return A(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function uf(e,t,n,r){return new sf(e,t,n,r)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ec(),u=S(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=S(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t){var n=_o(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=is.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);To(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ec(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function hf(e){var t=_o(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function df(e,t){var n=_o(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Es.EMPTY_BYTE_STRING,qo.min()).withLastLimboFreeSnapshotVersion(qo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=Wu(),u=ec();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(pf(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(qo.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return is.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function pf(e,t,n){var r=ec(),i=ec();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Wu();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(qo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):bo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function vf(e,t){var n=_o(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function mf(e,t){var n=_o(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,is.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Ml(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function yf(e,t,n){return gf.apply(this,arguments)}function gf(){return gf=oe(ie().mark((function e(t,n,r){var i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_o(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),as(e.t1)){e.next=12;break}throw e.t1;case 12:bo("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),gf.apply(this,arguments)}function kf(e,t,n){var r=_o(e),i=qo.min(),a=ec();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=_o(e),i=r.Yi.get(n);return void 0!==i?is.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ou(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:qo.min(),n?a:ec())})).next((function(e){return bf(r,Uu(t),e),{documents:e,ir:a}}))}))}function bf(e,t,n){var r=e.Xi.get(t)||qo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var wf=function(){function e(){C(this,e),this.activeTargetIds=nc()}return A(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xf=function(){function e(){C(this,e),this.Hr=new wf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return A(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new wf,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ef=function(){function e(){C(this,e)}return A(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sf=function(){function e(){var t=this;C(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return A(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){bo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){bo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Tf=null;function _f(){return null===Tf?Tf=268435456+Math.round(2147483648*Math.random()):Tf++,"0x"+Tf.toString(16)}var Cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},If=function(){function e(t){C(this,e),this.ro=t.ro,this.oo=t.oo}return A(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Af="WebChannelConnection",Pf=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return A(n,[{key:"Ao",value:function(e,t,n,r){var i=_f();return new Promise((function(a,o){var s=new fo;s.setWithCredentials(!0),s.listenOnce(oo.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ao.NO_ERROR:var t=s.getResponseJson();bo(Af,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ao.TIMEOUT:bo(Af,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Io(Co.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:var n=s.getStatus();if(bo(Af,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Co).indexOf(t)>=0?t:Co.UNKNOWN}(u.status);o(new Io(c,u.message))}else o(new Io(Co.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Io(Co.UNAVAILABLE,"Connection failed."));break;default:So()}}finally{bo(Af,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);bo(Af,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=_f(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ro(),o=io(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new co({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");bo(Af,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new If({ro:function(t){h?bo(Af,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(bo(Af,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),bo(Af,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,lo.EventType.OPEN,(function(){h||bo(Af,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,lo.EventType.CLOSE,(function(){h||(h=!0,bo(Af,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,lo.EventType.ERROR,(function(t){h||(h=!0,xo(Af,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Io(Co.UNAVAILABLE,"The operation could not be completed")))})),p(l,lo.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];To(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){bo(Af,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Rc[e];if(void 0!==t)return zc(t)}(s),c=o.message;void 0===u&&(u=Co.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new Io(u,c)),l.close()}else bo(Af,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,so.STAT_EVENT,(function(t){t.stat===uo.PROXY?bo(Af,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===uo.NOPROXY&&bo(Af,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){C(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return A(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=_f(),o=this.To(e,t);bo("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return bo("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw xo("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Cf[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Nf(){return"undefined"!=typeof document?document:null}function Rf(e){return new ul(e,!0)}var Of=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;C(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return A(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&bo("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Df=function(){function e(t,n,r,i,a,o,s,u){C(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Of(t,n)}return A(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Co.RESOURCE_EXHAUSTED?(wo(n.toString()),wo("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Co.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Io(Co.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return bo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(bo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Lf=function(e){N(n,e);var t=L(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return A(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:So()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(To(void 0===t||"string"==typeof t),Es.fromBase64String(t||"")):(To(void 0===t||t instanceof Uint8Array),Es.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Co.UNKNOWN:zc(e.code);return new Io(t,e.message||"")}(o);n=new el(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=yl(e,u.document.name),l=dl(u.document.updateTime),f=u.document.createTime?dl(u.document.createTime):qo.min(),h=new Ys({mapValue:{fields:u.document.fields}}),d=Xs.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Jc(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=yl(e,m.document),g=m.readTime?dl(m.readTime):qo.min(),k=Xs.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Jc([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=yl(e,w.document),E=w.removedTargetIds||[];n=new Jc([],E,x,null)}else{if(!("filter"in t))return So();t.filter;var S=t.filter;S.targetId;var T=S.count,_=void 0===T?0:T,C=S.unchangedNames,I=new Fc(_,C),A=S.targetId;n=new Zc(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return qo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qo.min():t.readTime?dl(t.readTime):qo.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=bl(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Su(r)?{documents:Sl(e,r)}:{query:Tl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fl(e,t.resumeToken);var i=cl(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(qo.min())>0){n.readTime=ll(e,t.snapshotVersion.toTimestamp());var a=cl(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return So()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=bl(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Df),Mf=function(e){N(n,e);var t=L(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return A(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Wt(R(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(To(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(To(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?dl(e.updateTime):dl(t);return n.isEqual(qo.min())&&(n=dl(t)),new gc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=dl(e.commitTime);return this.listener.cu(n,t)}return To(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=bl(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return El(t.serializer,e)}))};this.Wo(n)}}]),n}(Df),Vf=function(e){N(n,e);var t=L(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return A(n,[{key:"fu",value:function(){if(this.lu)throw new Io(Co.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Co.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Io(Co.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Co.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Io(Co.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return A((function e(){C(this,e)}))}());var jf=function(){function e(t,n){C(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return A(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(wo(t),this.mu=!1):bo("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Ff=A((function e(t,n,r,i,a){var o=this;C(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$f(o),!e.t0){e.next=5;break}return bo("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=_o(t)).vu.add(4),e.next=4,Bf(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Uf(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new jf(r,i)}));function Uf(e){return zf.apply(this,arguments)}function zf(){return zf=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$f(t)){e.next=18;break}n=S(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),zf.apply(this,arguments)}function Bf(e){return qf.apply(this,arguments)}function qf(){return qf=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),qf.apply(this,arguments)}function Hf(e,t){var n=_o(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Yf(n)?Qf(n):Th(n).Ko()&&Kf(n,t))}function Wf(e,t){var n=_o(e),r=Th(n);n.Au.delete(t),r.Ko()&&Gf(n,t),0===n.Au.size&&(r.Ko()?r.jo():$f(n)&&n.bu.set("Unknown"))}function Kf(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qo.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Th(e).su(t)}function Gf(e,t){e.Vu.qt(t),Th(e).iu(t)}function Qf(e){e.Vu=new nl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Th(e).start(),e.bu.gu()}function Yf(e){return $f(e)&&!Th(e).Uo()&&e.Au.size>0}function $f(e){return 0===_o(e).vu.size}function Xf(e){e.Vu=void 0}function Jf(e){return Zf.apply(this,arguments)}function Zf(){return Zf=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){Kf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return th=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xf(t),Yf(t)?(t.bu.Iu(n),Qf(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}function nh(e,t,n){return rh.apply(this,arguments)}function rh(){return rh=oe(ie().mark((function e(t,n,r){var i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof el&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bo("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ih(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Jc?t.Vu.Ht(n):n instanceof Zc?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(qo.min())){e.next=29;break}return e.prev=14,e.next=17,hf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Es.EMPTY_BYTE_STRING,r.snapshotVersion)),Gf(e,t);var i=new Ml(r.target,t,n,r.sequenceNumber);Kf(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bo("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ih(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rh.apply(this,arguments)}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=oe(ie().mark((function e(t,n,r){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(as(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,Bf(t);case 5:t.bu.set("Offline"),r||(r=function(){return hf(t.localStore)}),t.asyncQueue.enqueueRetryable(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bo("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Uf(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){return t().catch((function(n){return ih(e,n,t)}))}function sh(e){return uh.apply(this,arguments)}function uh(){return uh=oe(ie().mark((function e(t){var n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_o(t),r=_h(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!ch(n)){e.next=19;break}return e.prev=3,e.next=6,vf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,lh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ih(n,e.t0);case 17:e.next=2;break;case 19:fh(n)&&hh(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),uh.apply(this,arguments)}function ch(e){return $f(e)&&e.Eu.length<10}function lh(e,t){e.Eu.push(t);var n=_h(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function fh(e){return $f(e)&&!_h(e).Uo()&&e.Eu.length>0}function hh(e){_h(e).start()}function dh(e){return ph.apply(this,arguments)}function ph(){return ph=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_h(t).hu();case 1:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e){return mh.apply(this,arguments)}function mh(){return mh=oe(ie().mark((function e(t){var n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_h(t),r=S(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=Vc.from(i,n,r),e.next=3,oh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,sh(t);case 5:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(e,t){return bh.apply(this,arguments)}function bh(){return bh=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&_h(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uc(i=n.code)||i===Co.ABORTED){e.next=7;break}return r=t.Eu.shift(),_h(t).Qo(),e.next=5,oh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,sh(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fh(t)&&hh(t);case 5:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=_o(t)).asyncQueue.verifyOperationInProgress(),bo("RemoteStore","RemoteStore received new credentials"),i=$f(r),r.vu.add(3),e.next=6,Bf(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Uf(r);case 12:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_o(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Uf(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,Bf(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Th(e){return e.Su||(e.Su=function(e,t,n){var r=_o(e);return r.fu(),new Lf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Jf.bind(null,e),ao:eh.bind(null,e),nu:nh.bind(null,e)}),e.Ru.push(function(){var t=oe(ie().mark((function t(n){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),Yf(e)?Qf(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Xf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function _h(e){return e.Du||(e.Du=function(e,t,n){var r=_o(e);return r.fu(),new Mf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:dh.bind(null,e),ao:kh.bind(null,e),au:vh.bind(null,e),cu:yh.bind(null,e)}),e.Ru.push(function(){var t=oe(ie().mark((function t(n){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,sh(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(bo("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Ch=function(){function e(t,n,r,i,a){C(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return A(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Io(Co.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ih(e,t){if(wo("AsyncQueue","".concat(t,": ").concat(e)),as(e))return new Io(Co.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ah=function(){function e(t){C(this,e),this.comparator=t?function(e,n){return t(e,n)||Qo.comparator(e.key,n.key)}:function(e,t){return Qo.comparator(e.key,t.key)},this.keyedMap=Gu(),this.sortedSet=new ms(this.comparator)}return A(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ph=function(){function e(){C(this,e),this.Cu=new ms(Qo.comparator)}return A(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):So():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Nh=function(){function e(t,n,r,i,a,o,s,u,c){C(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return A(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ah.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Rh=A((function e(){C(this,e),this.Nu=void 0,this.listeners=[]})),Oh=A((function e(){C(this,e),this.queries=new qu((function(e){return Vu(e)}),Mu),this.onlineState="Unknown",this.ku=new Set}));function Dh(e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=oe(ie().mark((function e(t,n){var r,i,a,o,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_o(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Rh),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Ih(e.t0,"Initialization of query '".concat(ju(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Uh(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lh.apply(this,arguments)}function Mh(e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=oe(ie().mark((function e(t,n){var r,i,a,o,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_o(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function jh(e,t){var n,r=_o(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=S(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Uh(r)}function Fh(e,t,n){var r=_o(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Uh(e){e.ku.forEach((function(e){e.next()}))}var zh=function(){function e(t,n,r){C(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return A(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Nh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=Nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var Bh=A((function e(t){C(this,e),this.key=t})),qh=A((function e(t){C(this,e),this.key=t})),Hh=function(){function e(t,n){C(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ec(),this.mutatedKeys=ec(),this.tc=zu(t),this.ec=new Ah(this.tc)}return A(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Ph,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return So()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new Nh(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ph,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=ec(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new qh(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Bh(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=ec();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return Nh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Wh=A((function e(t,n,r){C(this,e),this.query=t,this.targetId=n,this.view=r})),Kh=A((function e(t){C(this,e),this.key=t,this.fc=!1})),Gh=function(){function e(t,n,r,i,a,o){C(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qu((function(e){return Vu(e)}),Mu),this._c=new Map,this.mc=new Set,this.gc=new ms(Qo.comparator),this.yc=new Map,this.Ic=new Yl,this.Tc={},this.Ec=new Map,this.Ac=ql.Mn(),this.onlineState="Unknown",this.vc=void 0}return A(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function Qh(e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=oe(ie().mark((function e(t,n){var r,i,a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ed(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,mf(r.localStore,Ou(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,$h(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Hf(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function $h(e,t,n,r,i){return Xh.apply(this,arguments)}function Xh(){return Xh=oe(ie().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=oe(ie().mark((function e(t,n,r,i){var a,o,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,kf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vd(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,kf(t.localStore,n,!0);case 3:return o=e.sent,s=new Hh(n,o.ir),u=s.sc(o.documents),c=Xc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),vd(t,r,l.cc),f=new Wh(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_o(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Mu(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Wf(r.remoteStore,i.targetId),dd(r,i.targetId)})).catch(ns);case 9:e.next=14;break;case 11:return dd(r,i.targetId),e.next=14,yf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=oe(ie().mark((function e(t,n,r){var i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sd(t),e.prev=1,e.next=4,function(e,t){var n,r,i=_o(e),a=Bo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ec());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Wu(),u=ec();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=S(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Tc(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Ic(c.key,l,$s(l.value.mapValue),kc.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Qu(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new ms(Uo)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gd(i,a.changes);case 9:return e.next=11,sh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ih(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.prev=1,e.next=4,df(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(To(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?To(n.fc):e.removedDocuments.size>0&&(To(n.fc),n.fc=!1))})),e.next=8,gd(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ns(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rd.apply(this,arguments)}function id(e,t,n){var r=_o(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=_o(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Uh(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ad(e,t,n){return od.apply(this,arguments)}function od(){return od=oe(ie().mark((function e(t,n,r){var i,a,o,s,u,c;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=_o(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ms(Qo.comparator)).insert(o,Xs.newNoDocument(o,qo.min())),u=ec().add(o),c=new $c(qo.min(),new Map,new ms(Uo),s,u),e.next=9,nd(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),yd(i),e.next=16;break;case 14:return e.next=16,yf(i.localStore,n,!1).then((function(){return dd(i,n,r)})).catch(ns);case 16:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function sd(e,t){return ud.apply(this,arguments)}function ud(){return ud=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),i=n.batch.batchId,e.prev=1,e.next=4,ff(r.localStore,n);case 4:return a=e.sent,hd(r,i,null),fd(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gd(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ns(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ud.apply(this,arguments)}function cd(e,t,n){return ld.apply(this,arguments)}function ld(){return ld=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),e.prev=1,e.next=4,function(e,t){var n=_o(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return To(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hd(i,n,r),fd(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gd(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ns(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ld.apply(this,arguments)}function fd(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function hd(e,t,n){var r=_o(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function dd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||pd(e,t)}))}function pd(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(Wf(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),yd(e))}function vd(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Bh?(e.Ic.addReference(a.key,t),md(e,a)):a instanceof qh?(bo("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||pd(e,a.key)):So()}}catch(o){i.e(o)}finally{i.f()}}function md(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(bo("SyncEngine","New document in limbo: "+n),e.mc.add(r),yd(e))}function yd(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Qo(Wo.fromString(t)),r=e.Ac.next();e.yc.set(r,new Kh(n)),e.gc=e.gc.insert(n,r),Hf(e.remoteStore,new Ml(Ou(Cu(n.path)),r,"TargetPurposeLimboResolution",os.ct))}}function gd(e,t,n){return kd.apply(this,arguments)}function kd(){return kd=oe(ie().mark((function e(t,n,r){var i,a,o,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_o(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=af.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return is.forEach(n,(function(t){return is.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return is.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),as(e.t0)){e.next=10;break}throw e.t0;case 10:bo("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=_o(t)).currentUser.isEqual(n)){e.next=11;break}return bo("SyncEngine","User change. New user:",n.toKey()),e.next=5,cf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Io(Co.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gd(r,i.er);case 11:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(e,t){var n=_o(e),r=n.yc.get(t);if(r&&r.fc)return ec().add(r.key);var i=ec(),a=n._c.get(t);if(!a)return i;var o,s=S(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function Ed(e){var t=_o(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ad.bind(null,t),t.dc.nu=jh.bind(null,t.eventManager),t.dc.Pc=Fh.bind(null,t.eventManager),t}function Sd(e){var t=_o(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cd.bind(null,t),t}var Td=function(){function e(){C(this,e),this.synchronizeTabs=!1}return A(e,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Rf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return uf(this.persistence,new of,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new tf(rf.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new xf}},{key:"terminate",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_d=function(){function e(){C(this,e)}return A(e,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t,n){var r=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return id(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bd.bind(null,this.syncEngine),e.next=12,Eh(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Oh}},{key:"createDatastore",value:function(e){var t,n=Rf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Pf(t));return function(e,t,n,r){return new Vf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return id(o.syncEngine,e,0)},a=Sf.D()?new Sf:new Ef,new Ff(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Gh(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_o(t),bo("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,Bf(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Cd=function(){function e(t){C(this,e),this.observer=t,this.muted=!1}return A(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):wo("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Id=function(){function e(t,n,r,i){var a=this;C(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mo.UNAUTHENTICATED,this.clientId=Fo.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bo("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bo("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return A(e,[{key:"getConfiguration",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Io(Co.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(ie().mark((function n(){var r;return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ih(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ad(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bo("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,cf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}function Nd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Dd(t);case 3:return r=e.sent,bo("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wh(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wh(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Od(e){return"FirebaseError"===e.name?e.code===Co.FAILED_PRECONDITION||e.code===Co.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Dd(e){return Ld.apply(this,arguments)}function Ld(){return Ld=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return bo("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Ad(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Od(n=e.t0)){e.next=13;break}throw n;case 13:return xo("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Ad(t,new Td);case 16:e.next=21;break;case 18:return bo("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Ad(t,new Td);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Ld.apply(this,arguments)}function Md(e){return Vd.apply(this,arguments)}function Vd(){return Vd=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return bo("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Nd(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return bo("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Nd(t,new _d);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function jd(e){return Md(e).then((function(e){return e.syncEngine}))}function Fd(e){return Ud.apply(this,arguments)}function Ud(){return Ud=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Md(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Qh.bind(null,n.syncEngine),r.onUnlisten=Jh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function zd(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Bd=new Map;function qd(e,t,n){if(!n)throw new Io(Co.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Hd(e){if(!Qo.isDocumentKey(e))throw new Io(Co.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wd(e){if(Qo.isDocumentKey(e))throw new Io(Co.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":So()}function Gd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Io(Co.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kd(e);throw new Io(Co.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Qd=function(){function e(t){var n,r;if(C(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Io(Co.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Io(Co.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Io(Co.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zd(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Io(Co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Io(Co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Io(Co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return A(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Yd=function(){function e(t,n,r,i){C(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1}return A(e,[{key:"app",get:function(){if(!this._app)throw new Io(Co.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Io(Co.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new No;switch(e.type){case"firstParty":return new Lo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Io(Co.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Bd.get(e);t&&(bo("ComponentProvider","Removing Datastore"),Bd.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function $d(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Gd(e,Yd))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=mo.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Io(Co.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new mo(u)}e._authCredentials=new Ro(new Po(o,s))}}var Xd=function(){function e(t,n,r){C(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return A(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Zd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Jd=function(){function e(t,n,r){C(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return A(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Zd=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,Cu(i)))._path=i,a.type="collection",a}return A(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Xd(this.firestore,null,new Qo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Jd);function ep(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oe(e),qd("collection","path",t),e instanceof Yd){var a=Wo.fromString.apply(Wo,[t].concat(r));return Wd(a),new Zd(e,null,a)}if(!(e instanceof Xd||e instanceof Zd))throw new Io(Co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wo.fromString.apply(Wo,[t].concat(r)));return Wd(o),new Zd(e.firestore,null,o)}function tp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oe(e),1===arguments.length&&(t=Fo.A()),qd("doc","path",t),e instanceof Yd){var a=Wo.fromString.apply(Wo,[t].concat(r));return Hd(a),new Xd(e,null,new Qo(a))}if(!(e instanceof Xd||e instanceof Zd))throw new Io(Co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Wo.fromString.apply(Wo,[t].concat(r)));return Hd(o),new Xd(e.firestore,e instanceof Zd?e.converter:null,new Qo(o))}var np=function(){function e(){var t=this;C(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Of(this,"async_queue_retry"),this.Xc=function(){var e=Nf();e&&bo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Nf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return A(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Nf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Ao;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=oe(ie().mark((function e(){var t=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),as(e.t0)){e.next=12;break}throw e.t0;case 12:bo("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Ch.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&So()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=S(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function rp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=S(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ip=function(e){N(n,e);var t=L(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new np,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return A(n,[{key:"_terminate",value:function(){return this._firestoreClient||op(this),this._firestoreClient.terminate()}}]),n}(Yd);function ap(e){return e._firestoreClient||op(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function op(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zd(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Id(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var sp=function(){function e(t){C(this,e),this._byteString=t}return A(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Es.fromBase64String(t))}catch(t){throw new Io(Co.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Es.fromUint8Array(t))}}]),e}(),up=function(){function e(){C(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Io(Co.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Go(n)}return A(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cp=A((function e(t){C(this,e),this._methodName=t})),lp=function(){function e(t,n){if(C(this,e),!isFinite(t)||t<-90||t>90)throw new Io(Co.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Io(Co.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return A(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Uo(this._lat,e._lat)||Uo(this._long,e._long)}}]),e}(),fp=/^__.*__$/,hp=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cc(e,this.data,t,this.fieldTransforms)}}]),e}(),dp=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw So()}}var vp=function(){function e(t,n,r,i,a,o){C(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return A(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Pp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pp(this.ca)&&fp.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),mp=function(){function e(t,n,r){C(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(t)}return A(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vp({ca:e,methodName:t,ga:n,path:Go.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function yp(e){var t=e._freezeSettings(),n=Rf(e._databaseId);return new mp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gp(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);_p("Data must be an object, but it was:",o,r);var s,u,c=Sp(r,o);if(a.merge)s=new ws(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Cp(t,l.value,n);if(!o.contains(d))throw new Io(Co.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Np(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new ws(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new hp(new Ys(c),s,u)}var kp=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cp);function bp(e,t,n,r){var i=e.ya(1,t,n);_p("Data must be an object, but it was:",i,r);var a=[],o=Ys.empty();ps(r,(function(e,r){var s=Ap(t,e,n);r=Oe(r);var u=i.da(s);if(r instanceof kp)a.push(s);else{var c=Ep(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ws(a);return new dp(o,s,i.fieldTransforms)}function wp(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[Cp(t,r,n)],u=[i];if(a.length%2!=0)throw new Io(Co.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Cp(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ys.empty(),h=s.length-1;h>=0;--h)if(!Np(l,s[h])){var d=s[h],p=u[h];p=Oe(p);var v=o.da(d);if(p instanceof kp)l.push(d);else{var m=Ep(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ws(l);return new dp(f,y,o.fieldTransforms)}function xp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ep(n,e.ya(r?4:3,t))}function Ep(e,t){if(Tp(e=Oe(e)))return _p("Unsupported field value:",t,e),Sp(e,t);if(e instanceof cp)return function(e,t){if(!pp(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=Ep(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Oe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ac(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bo.fromDate(e);return{timestampValue:ll(t.serializer,n)}}if(e instanceof Bo){var r=new Bo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ll(t.serializer,r)}}if(e instanceof lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sp)return{bytesValue:fl(t.serializer,e._byteString)};if(e instanceof Xd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Kd(e)))}(e,t)}function Sp(e,t){var n={};return vs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(e,(function(e,r){var i=Ep(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bo||e instanceof lp||e instanceof sp||e instanceof Xd||e instanceof cp)}function _p(e,t,n){if(!Tp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kd(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Cp(e,t,n){if((t=Oe(t))instanceof up)return t._internalPath;if("string"==typeof t)return Ap(e,t);throw Pp("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ip=new RegExp("[~\\*/\\[\\]]");function Ap(e,t,n){if(t.search(Ip)>=0)throw Pp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return se(up,a(t.split(".")))._internalPath}catch(Zk){throw Pp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pp(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Io(Co.INVALID_ARGUMENT,s+e+u)}function Np(e,t){return e.some((function(e){return e.isEqual(t)}))}var Rp=function(){function e(t,n,r,i,a){C(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return A(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Xd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Op(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Op=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){return Wt(R(n.prototype),"data",this).call(this)}}]),n}(Rp);function Dp(e,t){return"string"==typeof t?Ap(e,t):t instanceof up?t._internalPath:t._delegate._internalPath}function Lp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Io(Co.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mp=A((function e(){C(this,e)})),Vp=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n)}(Mp);var jp=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return A(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Bp(e._query,t),new Jd(e.firestore,e.converter,Du(e._query,t))}},{key:"_parse",value:function(e){var t=yp(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Io(Co.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){zp(o,a);var u,c=[],l=S(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Up(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=Up(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zp(o,a),s=xp(n,"where",o,"in"===a||"not-in"===a);return iu.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Vp);var Fp=function(e){N(n,e);var t=L(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return A(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:au.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Bp(r,a),r=Du(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Jd(e.firestore,e.converter,Du(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Mp);function Up(e,t,n){if("string"==typeof(n=Oe(n))){if(""===n)throw new Io(Co.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nu(t)&&-1!==n.indexOf("/"))throw new Io(Co.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Wo.fromString(n));if(!Qo.isDocumentKey(r))throw new Io(Co.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return zs(e,new Qo(r))}if(n instanceof Xd)return zs(e,n._key);throw new Io(Co.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kd(n),"."))}function zp(e,t){if(!Array.isArray(e)||0===e.length)throw new Io(Co.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Bp(e,t){if(t.isInequality()){var n=Pu(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Io(Co.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Au(e);null!==i&&qp(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Io(Co.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Io(Co.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function qp(e,t,n){if(!n.isEqual(t))throw new Io(Co.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Hp=function(){function e(){C(this,e)}return A(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _s(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw So()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return ps(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new lp(_s(e.latitude),_s(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=As(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ts(e);return new Bo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Wo.fromString(e);To(Ll(n));var r=new Rs(n.get(1),n.get(3)),i=new Qo(n.popFirst(5));return r.isEqual(t)||wo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Wp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Kp=function(){function e(t,n){C(this,e),this.hasPendingWrites=t,this.fromCache=n}return A(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Gp=function(e){N(n,e);var t=L(n);function n(e,r,i,a,o,s){var u;return C(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return A(n,[{key:"exists",value:function(){return Wt(R(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Rp),Qp=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wt(R(n.prototype),"data",this).call(this,e)}}]),n}(Gp),Yp=function(){function e(t,n,r,i){C(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kp(i.hasPendingWrites,i.fromCache),this.query=r}return A(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Qp(n._firestore,n._userDataWriter,r.key,r,new Kp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Io(Co.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$p(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function $p(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return So()}}var Xp=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new sp(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xd(this.firestore,null,t)}}]),n}(Hp);function Jp(e,t,n){e=Gd(e,Xd);for(var r=Gd(e.firestore,ip),i=yp(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Zp(r,[("string"==typeof(t=Oe(t))||t instanceof up?wp(i,"updateDoc",e._key,t,n,o):bp(i,"updateDoc",e._key,t)).toMutation(e._key,kc.exists(!0))])}function Zp(e,t){return function(e,t){var n=new Ao;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function r(){return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ed,r.next=3,jd(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ap(e),t)}function ev(e,t,n){var r=n.docs.get(t._key),i=new Xp(e);return new Gp(e,i,t._key,r,new Kp(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yo=e}(Tt),bt(new De("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ip(new Oo(e.getProvider("auth-internal")),new Vo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Io(Co.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),It(vo,"3.12.1",e),It(vo,"3.12.1","esm2017")}();function tv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var nv;function rv(){return u({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var iv=rv,av=new Ee("auth","Firebase",rv()),ov=new We("@firebase/auth");function sv(e){if(ov.logLevel<=je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ov.warn.apply(ov,["Auth (".concat(Tt,"): ").concat(e)].concat(n))}}function uv(e){if(ov.logLevel<=je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ov.error.apply(ov,["Auth (".concat(Tt,"): ").concat(e)].concat(n))}}function cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hv.apply(void 0,[e].concat(n))}function lv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hv.apply(void 0,[e].concat(n))}function fv(e,t,n){var r=Object.assign(Object.assign({},iv()),u({},t,n));return new Ee("auth","Firebase",r).create(t,{appName:e.name})}function hv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],s=a(n.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(a(s)))}return av.create.apply(av,[e].concat(n))}function dv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw hv.apply(void 0,[t].concat(r))}}function pv(e){var t="INTERNAL ASSERTION FAILED: "+e;throw uv(t),new Error(t)}function vv(e,t){e||pv(t)}function mv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yv(){return"http:"===gv()||"https:"===gv()}function gv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function kv(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yv()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var bv=function(){function e(t,n){C(this,e),this.shortDelay=t,this.longDelay=n,vv(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())||"object"===typeof navigator&&"ReactNative"===navigator.product}return A(e,[{key:"get",value:function(){return kv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function wv(e,t){vv(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var xv=function(){function e(){C(this,e)}return A(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void pv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void pv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void pv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ev=(u(nv={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),u(nv,"MISSING_CUSTOM_TOKEN","internal-error"),u(nv,"INVALID_IDENTIFIER","invalid-email"),u(nv,"MISSING_CONTINUE_URI","internal-error"),u(nv,"INVALID_PASSWORD","wrong-password"),u(nv,"MISSING_PASSWORD","missing-password"),u(nv,"EMAIL_EXISTS","email-already-in-use"),u(nv,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),u(nv,"INVALID_IDP_RESPONSE","invalid-credential"),u(nv,"INVALID_PENDING_TOKEN","invalid-credential"),u(nv,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),u(nv,"MISSING_REQ_TYPE","internal-error"),u(nv,"EMAIL_NOT_FOUND","user-not-found"),u(nv,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),u(nv,"EXPIRED_OOB_CODE","expired-action-code"),u(nv,"INVALID_OOB_CODE","invalid-action-code"),u(nv,"MISSING_OOB_CODE","internal-error"),u(nv,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),u(nv,"INVALID_ID_TOKEN","invalid-user-token"),u(nv,"TOKEN_EXPIRED","user-token-expired"),u(nv,"USER_NOT_FOUND","user-token-expired"),u(nv,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),u(nv,"INVALID_CODE","invalid-verification-code"),u(nv,"INVALID_SESSION_INFO","invalid-verification-id"),u(nv,"INVALID_TEMPORARY_PROOF","invalid-credential"),u(nv,"MISSING_SESSION_INFO","missing-verification-id"),u(nv,"SESSION_EXPIRED","code-expired"),u(nv,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),u(nv,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),u(nv,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),u(nv,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),u(nv,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),u(nv,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),u(nv,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),u(nv,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),u(nv,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),u(nv,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),u(nv,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),u(nv,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),u(nv,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),u(nv,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),u(nv,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),u(nv,"MISSING_CLIENT_TYPE","missing-client-type"),u(nv,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),u(nv,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),u(nv,"INVALID_REQ_TYPE","invalid-req-type"),nv),Sv=new bv(3e4,6e4);function Tv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function _v(e,t,n,r){return Cv.apply(this,arguments)}function Cv(){return Cv=oe(ie().mark((function e(t,n,r,i){var a,o=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Iv(t,a,oe(ie().mark((function e(){var a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ie(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",xv.fetch()(Rv(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Iv(e,t,n){return Av.apply(this,arguments)}function Av(){return Av=oe(ie().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ev),n),e.prev=2,a=new Ov(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Dv(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Dv(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Dv(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Dv(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw fv(t,p,d);case 34:cv(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof xe)){e.next=41;break}throw e.t0;case 41:cv(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Av.apply(this,arguments)}function Pv(e,t,n,r){return Nv.apply(this,arguments)}function Nv(){return Nv=oe(ie().mark((function e(t,n,r,i){var a,o,s=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,_v(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cv(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Rv(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ov=function(){function e(t){var n=this;C(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(lv(n.auth,"network-request-failed"))}),Sv.get())}))}return A(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Dv(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=lv(e,t,r);return i.customData._tokenResponse=n,i}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return Mv=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Vv(e,t){return jv.apply(this,arguments)}function jv(){return jv=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Fv(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Uv(){return Uv=oe(ie().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Oe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,dv((a=Bv(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Fv(zv(a.auth_time)),issuedAtTime:Fv(zv(a.iat)),expirationTime:Fv(zv(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function zv(e){return 1e3*Number(e)}function Bv(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return uv("JWT malformed, contained fewer than 3 sections"),null;try{var a=de(r);return a?JSON.parse(a):(uv("Failed to decode base64 JWT payload"),null)}catch(o){return uv("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function qv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=oe(ie().mark((function e(t,n){var r=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xe&&Wv(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hv.apply(this,arguments)}function Wv(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Kv=function(){function e(t){C(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return A(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gv=function(){function e(t,n){C(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return A(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Fv(this.lastLoginAt),this.creationTime=Fv(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qv(e){return Yv.apply(this,arguments)}function Yv(){return Yv=oe(ie().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,qv(t,Vv(r,{idToken:i}));case 6:dv(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=tv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Xv(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gv(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function $v(){return($v=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe(t),e.next=3,Qv(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xv(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(a(n),a(t))}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iv(t,{},oe(ie().mark((function e(){var r,i,a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ie({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Rv(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",xv.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}var em=function(){function e(){C(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return A(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){dv(e.idToken,"internal-error"),dv("undefined"!==typeof e.idToken,"internal-error"),dv("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Bv(e);return dv(t,"internal-error"),dv("undefined"!==typeof t.exp,"internal-error"),dv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=oe(ie().mark((function e(t){var n,r=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],dv(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jv(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return pv("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(dv("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(dv("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(dv("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function tm(e,t){dv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var nm=function(){function e(t){C(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=tv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?a(o.providerData):[],this.metadata=new Gv(o.createdAt||void 0,o.lastLoginAt||void 0)}return A(e,[{key:"getIdToken",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qv(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(dv(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Uv.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $v.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(dv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){dv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=oe(ie().mark((function e(t){var n,r,i=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qv(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,qv(this,Lv(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;dv(k&&E,t,"internal-error");var S=em.fromJSON(this.name,E);dv("string"===typeof k,t,"internal-error"),tm(f,t.name),tm(h,t.name),dv("boolean"===typeof b,t,"internal-error"),dv("boolean"===typeof w,t,"internal-error"),tm(d,t.name),tm(p,t.name),tm(v,t.name),tm(m,t.name),tm(y,t.name),tm(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(T.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=oe(ie().mark((function t(n,r){var i,a,o,s=arguments;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new em).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qv(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),rm=new Map;function im(e){vv(e instanceof Function,"Expected a class definition");var t=rm.get(e);return t?(vv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rm.set(e,t),t)}var am=function(){function e(){C(this,e),this.type="NONE",this.storage={}}return A(e,[{key:"_isAvailable",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();am.type="NONE";var om=am;function sm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var um=function(){function e(t,n,r){C(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=sm(this.userKey,a.apiKey,o),this.fullPersistenceKey=sm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return A(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?nm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=oe(ie().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(im(om),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||im(om),s=sm(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=nm._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function cm(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vm(t))return"Blackberry";if(mm(t))return"Webos";if(fm(t))return"Safari";if((t.includes("chrome/")||hm(t))&&!t.includes("edge/"))return"Chrome";if(pm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/firefox\//i.test(e)}function fm(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:be()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/crios\//i.test(e)}function dm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/iemobile/i.test(e)}function pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/android/i.test(e)}function vm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/blackberry/i.test(e)}function mm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/webos/i.test(e)}function ym(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gm(){return function(){var e=be();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be();return ym(e)||pm(e)||mm(e)||vm(e)||/windows phone/i.test(e)||dm(e)}function bm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cm(be());break;case"Worker":t="".concat(cm(be()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Tt,"/").concat(r)}function wm(e,t){return xm.apply(this,arguments)}function xm(){return xm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(t,"GET","/v2/recaptchaConfig",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Em(e){return void 0!==e&&void 0!==e.enterprise}var Sm=A((function e(t){if(C(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Tm(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=lv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function _m(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Cm=function(){function e(t){C(this,e),this.type="recaptcha-enterprise",this.auth=Rm(t)}return A(e,[{key:"verify",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Em(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=oe(ie().mark((function e(n,r){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Sm(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Em(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Tm("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Im(e,t,n){return Am.apply(this,arguments)}function Am(){return Am=oe(ie().mark((function e(t,n,r){var i,a,o,s,u=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Cm(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Am.apply(this,arguments)}var Pm=function(){function e(t){C(this,e),this.auth=t,this.queue=[]}return A(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=oe(ie().mark((function e(t){var n,r,i,a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(ub){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nm=function(){function e(t,n,r,i){C(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Om(this),this.idTokenSubscription=new Om(this),this.beforeStateQueue=new Pm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return A(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=im(t)),this._initializationPromise=this.queue(oe(ie().mark((function r(){var i,a;return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,um.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=oe(ie().mark((function e(t){var n,r,i,a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return dv(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qv(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Oe(t):null)&&dv(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=oe(ie().mark((function e(t){var n,r=this,i=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&dv(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(oe(ie().mark((function n(){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(im(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wm(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Sm(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Cm(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ee("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return dv(n=t&&im(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,um.create(this,[im(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=oe(ie().mark((function e(t){var n=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return dv(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return dv(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&sv("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rm(e){return Oe(e)}var Om=function(){function e(t){var n=this;C(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ne(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return A(e,[{key:"next",get:function(){return dv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Dm(e,t,n){var r=Rm(e);dv(r._canInitEmulator,r,"emulator-config-failed"),dv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Lm(t),o=function(e){var t=Lm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Mm(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Mm(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Lm(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mm(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Vm=function(){function e(t,n){C(this,e),this.providerId=t,this.signInMethod=n}return A(e,[{key:"toJSON",value:function(){return pv("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return pv("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return pv("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return pv("not implemented")}}]),e}();function jm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Um(e,t){return zm.apply(this,arguments)}function zm(){return zm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithPassword",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function Bm(e,t){return qm.apply(this,arguments)}function qm(){return qm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithEmailLink",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Hm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithEmailLink",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}var Km=function(e){N(n,e);var t=L(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return A(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Im(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Um(t,i));case 11:return e.abrupt("return",Um(t,r).catch(function(){var e=oe(ie().mark((function e(n){var i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Im(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Um(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Bm(t,{email:this._email,oobCode:this._password}));case 13:cv(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",jm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hm(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cv(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vm);function Gm(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithIdp",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}var Ym=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return A(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ie(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cv("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=tv(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vm);function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(t,"POST","/v1/accounts:sendVerificationCode",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(){return Jm=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithPhoneNumber",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function Zm(){return Zm=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pv(t,"POST","/v1/accounts:signInWithPhoneNumber",Tv(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Dv(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}var ey=u({},"USER_NOT_FOUND","user-not-found");function ty(){return ty=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pv(t,"POST","/v1/accounts:signInWithPhoneNumber",Tv(t,r),ey));case 2:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}var ny=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone","phone")).params=e,r}return A(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zm.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ty.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vm);var ry=function(){function e(t){var n,r,i,a,o,s;C(this,e);var u=Ae(Pe(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);dv(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return A(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ae(Pe(e)).link,n=t?Ae(Pe(t)).deep_link_id:null,r=Ae(Pe(e)).deep_link_id;return(r?Ae(Pe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var iy=function(){function e(){C(this,e),this.providerId=e.PROVIDER_ID}return A(e,null,[{key:"credential",value:function(e,t){return Km._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ry.parseLink(t);return dv(n,"argument-error"),Km._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();iy.PROVIDER_ID="password",iy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ay=function(){function e(t){C(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return A(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oy=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).scopes=[],e}return A(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return a(this.scopes)}}]),n}(ay),sy=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.call(this,"facebook.com")}return A(n,null,[{key:"credential",value:function(e){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(oy);sy.FACEBOOK_SIGN_IN_METHOD="facebook.com",sy.PROVIDER_ID="facebook.com";var uy=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return A(n,null,[{key:"credential",value:function(e,t){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(oy);uy.GOOGLE_SIGN_IN_METHOD="google.com",uy.PROVIDER_ID="google.com";var cy=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.call(this,"github.com")}return A(n,null,[{key:"credential",value:function(e){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(oy);cy.GITHUB_SIGN_IN_METHOD="github.com",cy.PROVIDER_ID="github.com";var ly=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.call(this,"twitter.com")}return A(n,null,[{key:"credential",value:function(e,t){return Ym._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(oy);function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(t,"POST","/v1/accounts:signUp",Tv(t,n)));case 1:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}ly.TWITTER_SIGN_IN_METHOD="twitter.com",ly.PROVIDER_ID="twitter.com";var dy=function(){function e(t){C(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return A(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=oe(ie().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,nm._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=py(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=oe(ie().mark((function t(n,r,i){var a;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=py(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function py(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var vy=function(e){N(n,e);var t=L(n);function n(e,r,i,a){var o,s;return C(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(D(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return A(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xe);function my(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vy._fromErrorAndOperation(e,n,t,r);throw n}))}function yy(e,t){return gy.apply(this,arguments)}function gy(){return gy=oe(ie().mark((function e(t,n){var r,i,a=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=qv,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",dy._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){return by.apply(this,arguments)}function by(){return by=oe(ie().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,qv(t,my(i,a,n,t),r);case 6:return dv((o=e.sent).idToken,i,"internal-error"),dv(s=Bv(o.idToken),i,"internal-error"),u=s.sub,dv(t.uid===u,i,"user-mismatch"),e.abrupt("return",dy._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&cv(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=oe(ie().mark((function e(t,n){var r,i,a,o,s=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,my(t,i,n);case 4:return a=e.sent,e.next=7,dy._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function Ey(e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wy(Rm(t),n));case 1:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ty(){return Ty=oe(ie().mark((function e(t,n,r){var i,a,o,s,u,c,l;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Rm(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Im(a,o,"signUpPassword");case 5:u=e.sent,s=fy(a,u),e.next=10;break;case 9:s=fy(a,o).catch(function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Im(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",fy(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,dy._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function _y(e,t){return _v(e,"POST","/v2/accounts/mfaEnrollment:start",Tv(e,t))}function Cy(e,t){return _v(e,"POST","/v2/accounts/mfaEnrollment:start",Tv(e,t))}function Iy(e,t){return _v(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tv(e,t))}new WeakMap;var Ay="__sak",Py=function(){function e(t,n){C(this,e),this.storageRetriever=t,this.type=n}return A(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ay,"1"),this.storage.removeItem(Ay),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ny=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=be();return fm(e)||ym(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=km(),e._shouldAllowMigration=!0,e}return A(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);gm()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=oe(ie().mark((function e(t,r){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(R(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ie().mark((function e(t){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(R(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(R(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Py);Ny.type="LOCAL";var Ry=Ny,Oy=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return A(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Py);Oy.type="SESSION";var Dy=Oy;function Ly(e){return Promise.all(e.map(function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var My=function(){function e(t){C(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return A(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=oe(ie().mark((function e(t){var n,r,i,a,o,s,u,c;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ly(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Vy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}My.receivers=[];var jy=function(){function e(t){C(this,e),this.target=t,this.handlers=new Set}return A(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Vy("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Fy(){return window}function Uy(e){Fy().location.href=e}function zy(){return"undefined"!==typeof Fy().WorkerGlobalScope&&"function"===typeof Fy().importScripts}function By(){return qy.apply(this,arguments)}function qy(){return(qy=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Hy(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wy="firebaseLocalStorageDb",Ky="firebaseLocalStorage",Gy="fbase_key",Qy=function(){function e(t){C(this,e),this.request=t}return A(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Yy(e,t){return e.transaction([Ky],t?"readwrite":"readonly").objectStore(Ky)}function $y(){var e=indexedDB.deleteDatabase(Wy);return new Qy(e).toPromise()}function Xy(){var e=indexedDB.open(Wy,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ky,{keyPath:Gy})}catch(r){n(r)}})),e.addEventListener("success",oe(ie().mark((function n(){var r;return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ky)){n.next=12;break}return r.close(),n.next=5,$y();case 5:return n.t0=t,n.next=8,Xy();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Jy(e,t,n){return Zy.apply(this,arguments)}function Zy(){return Zy=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yy(t,!0).put((u(i={},Gy,n),u(i,"value",r),i)),e.abrupt("return",new Qy(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yy(t,!1).get(n),e.next=3,new Qy(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){var n=Yy(e,!0).delete(t);return new Qy(n).toPromise()}var rg=function(){function e(){C(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return A(e,[{key:"_openDb",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xy();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=oe(ie().mark((function e(){var t=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=My._getInstance(zy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=oe(ie().mark((function e(n,r){var i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=oe(ie().mark((function e(){var t,n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,By();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new jy(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Hy()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xy();case 5:return t=e.sent,e.next=8,Jy(t,Ay,"1");case 8:return e.next=10,ng(t,Ay);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(ie().mark((function e(t,n){var r=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Jy(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ie().mark((function e(t){var n=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ng(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Yy(e,!1).getAll();return new Qy(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rg.type="LOCAL";var ig=rg;function ag(e,t){return _v(e,"POST","/v2/accounts/mfaSignIn:start",Tv(e,t))}function og(e,t){return _v(e,"POST","/v2/accounts/mfaSignIn:finalize",Tv(e,t))}_m("rcb"),new bv(3e4,6e4);var sg="recaptcha";function ug(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=oe(ie().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,dv("string"===typeof a,t,"argument-error"),dv(r.type===sg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return dv("enroll"===s.type,t,"internal-error"),e.next=13,_y(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return dv("signin"===s.type,t,"internal-error"),dv(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ag(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,$m(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cg.apply(this,arguments)}var lg=function(){function e(t){C(this,e),this.providerId=e.PROVIDER_ID,this.auth=Rm(t)}return A(e,[{key:"verifyPhoneNumber",value:function(e,t){return ug(this.auth,e,Oe(t))}}],[{key:"credential",value:function(e,t){return ny._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ny._fromTokenResponse(n,r):null}}]),e}();function fg(e,t){return t?im(t):(dv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lg.PROVIDER_ID="phone",lg.PHONE_SIGN_IN_METHOD="phone";var hg=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this,"custom","custom")).params=e,r}return A(n,[{key:"_getIdTokenResponse",value:function(e){return Gm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vm);function dg(e){return wy(e.auth,new hg(e),e.bypassAuthState)}function pg(e){var t=e.auth,n=e.user;return dv(n,t,"internal-error"),ky(n,new hg(e),e.bypassAuthState)}function vg(e){return mg.apply(this,arguments)}function mg(){return mg=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,dv(r=t.user,n,"internal-error"),e.abrupt("return",yy(r,new hg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}var yg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];C(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return A(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=oe(ie().mark((function t(n,r){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=oe(ie().mark((function e(t){var n,r,i,a,o,s,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dg;case"linkViaPopup":case"linkViaRedirect":return vg;case"reauthViaPopup":case"reauthViaRedirect":return pg;default:cv(this.auth,"internal-error")}}},{key:"resolve",value:function(e){vv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){vv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gg=new bv(2e3,1e4);var kg=function(e){N(n,e);var t=L(n);function n(e,r,i,a,o){var s;return C(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=D(s),s}return A(n,[{key:"executeNotNull",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return dv(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(ie().mark((function e(){var t,n=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv(1===this.filter.length,"Popup operations only handle one event"),t=Vy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(lv(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(lv(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(lv(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,gg.get())}()}}]),n}(yg);kg.currentPopupAction=null;var bg="pendingRedirect",wg=new Map,xg=function(e){N(n,e);var t=L(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return A(n,[{key:"execute",value:function(){var e=oe(ie().mark((function e(){var t,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wg.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Eg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Wt(R(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:wg.set(this.auth._key(),t);case 21:return this.bypassAuthState||wg.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=oe(ie().mark((function e(t){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Wt(R(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Wt(R(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yg);function Eg(e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cg(n),i=_g(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}function Tg(e,t){wg.set(e._key(),t)}function _g(e){return im(e._redirectPersistence)}function Cg(e){return sm(bg,e.config.apiKey,e.name)}function Ig(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=oe(ie().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Rm(t),a=fg(i,n),o=new xg(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}var Pg=function(){function e(t){C(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return A(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Rg(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(lv(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ng(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ng(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ng(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Rg(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Og(e){return Dg.apply(this,arguments)}function Dg(){return Dg=oe(ie().mark((function e(t){var n,r=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",_v(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}var Lg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mg=/^https?/;function Vg(){return Vg=oe(ie().mark((function e(t){var n,r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Og(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cv(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Vg.apply(this,arguments)}function jg(e){var t=mv(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Mg.test(r))return!1;if(Lg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Fg=new bv(3e4,6e4);function Ug(){var e=Fy().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=a(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zg=null;function Bg(e){return zg=zg||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ug(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ug(),n(lv(e,"network-request-failed"))},timeout:Fg.get()})}if(null===(i=null===(r=Fy().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Fy().gapi)||void 0===a?void 0:a.load)){var s=_m("iframefcb");return Fy()[s]=function(){gapi.load?o():n(lv(e,"network-request-failed"))},Tm("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zg=null,e}))}(e),zg}var qg=new bv(5e3,15e3),Hg="__/auth/iframe",Wg="emulator/auth/iframe",Kg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qg(e){var t=e.config;dv(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?wv(t,Wg):"https://".concat(e.config.authDomain,"/").concat(Hg),r={apiKey:t.apiKey,appName:e.name,v:Tt},i=Gg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ie(r).slice(1))}function Yg(e){return $g.apply(this,arguments)}function $g(){return $g=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg(t);case 2:return n=e.sent,dv(r=Fy().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qg(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kg,dontclear:!0},(function(e){return new Promise(function(){var n=oe(ie().mark((function n(r,i){var a,o,s;return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Fy().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=lv(t,"network-request-failed"),o=Fy().setTimeout((function(){i(a)}),qg.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}var Xg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jg=function(){function e(t){C(this,e),this.window=t,this.associatedEvent=null}return A(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Zg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Xg),{width:r.toString(),height:i.toString(),top:a,left:o}),c=be().toLowerCase();n&&(s=hm(c)?"_blank":n),lm(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ym(arguments.length>0&&void 0!==arguments[0]?arguments[0]:be())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Jg(null);var h=window.open(t||"",s,l);dv(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Jg(h)}var ek="__/auth/handler",tk="emulator/auth/handler",nk=encodeURIComponent("fac");function rk(e,t,n,r,i,a){return ik.apply(this,arguments)}function ik(){return ik=oe(ie().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,d,p,v,m,y,g,k,b;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dv(t.config.authDomain,t,"auth-domain-config-required"),dv(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Tt,eventId:a},n instanceof ay)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Te(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=f(c[u],2),h=l[0],d=l[1],s[h]=d;for(n instanceof oy&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(nk,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(ak(t),"?").concat(Ie(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e){var t=e.config;return t.emulator?wv(t,tk):"https://".concat(t.authDomain,"/").concat(ek)}var ok="webStorageSupport",sk=function(){function e(){C(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dy,this._completeRedirectFn=Ig,this._overrideRedirectResult=Tg}return A(e,[{key:"_openPopup",value:function(){var e=oe(ie().mark((function e(t,n,r,i){var a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,rk(t,n,r,mv(),i);case 3:return o=e.sent,e.abrupt("return",Zg(t,o,Vy()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(ie().mark((function e(t,n,r,i){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,rk(t,n,r,mv(),i);case 4:return Uy(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(vv(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yg(t);case 2:return n=e.sent,r=new Pg(t),n.register("authEvent",(function(e){return dv(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ok,{type:ok},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ok];void 0!==i&&t(!!i),cv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return km()||fm()||ym()}}]),e}(),uk=sk,ck=function(){function e(t){C(this,e),this.factorId=t}return A(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pv("unexpected MultiFactorSessionType")}}}]),e}(),lk=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone")).credential=e,r}return A(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return _v(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return _v(e,"POST","/v2/accounts/mfaSignIn:finalize",Tv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ck);(function(){function e(){C(this,e)}return A(e,null,[{key:"assertion",value:function(e){return lk._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var fk=function(){function e(){C(this,e)}return A(e,null,[{key:"assertionForEnrollment",value:function(e,t){return hk._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return hk._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Cy(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",dk._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();fk.FACTOR_ID="totp";var hk=function(e){N(n,e);var t=L(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return A(n,[{key:"_finalizeEnroll",value:function(){var e=oe(ie().mark((function e(t,n,r){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Iy(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",og(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(ck),dk=function(){function e(t,n,r,i,a,o,s){C(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return A(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(pk(e)||pk(t))&&(r=!0),r&&(pk(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),pk(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function pk(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var vk="@firebase/auth",mk="0.23.2",yk=function(){function e(t){C(this,e),this.auth=t,this.internalListeners=new Map}return A(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){dv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var gk,kk=ge("authIdTokenMaxAge")||300,bk=null;gk="Browser",bt(new De("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;dv(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:gk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bm(gk)},l=new Nm(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(im);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bt(new De("auth-internal",(function(e){return function(e){return new yk(e)}(Rm(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),It(vk,mk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gk)),It(vk,mk,"esm2017");_t({apiKey:"AIzaSyDlwraoWuCbNAYQO01ClqZc4ZVoEUR82Yc",authDomain:"notes-f87ce.firebaseapp.com",projectId:"notes-f87ce",storageBucket:"notes-f87ce.appspot.com",messagingSenderId:"232390921599",appId:"1:232390921599:web:36adf4148bea406b329e4a"});var wk=function(e,t){var n="string"==typeof e?e:t||"(default)",r=wt("object"==typeof e?e:Ct(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=me(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&$d.apply(void 0,[r].concat(a(i)))}return r}(),xk=(ep(wk,"notes"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct(),t=wt(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=wt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(_e(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;cv(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:uk,persistence:[ig,Ry,Dy]}),i=ge("authTokenSyncURL");if(i){var a=(n=i,function(){var e=oe(ie().mark((function e(t){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>kk)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,bk!==a){e.next=12;break}return e.abrupt("return");case 12:return bk=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){Oe(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){Oe(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=me("auth");return o&&Dm(r,"http://".concat(o)),r}()),Ek=ep(wk,"users"),Sk=n(248),Tk=n(327),_k=n(164);var Ck=function(e){e()},Ik=function(){return Ck},Ak=(0,e.createContext)(null);function Pk(){return(0,e.useContext)(Ak)}var Nk=function(){throw new Error("uSES not initialized!")},Rk=function(e,t){return e===t};function Ok(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ak,n=t===Ak?Pk:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rk;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=Nk(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var Dk=Ok();n(110),n(900);var Lk={notify:function(){},get:function(){return[]}};function Mk(e,t){var n,r=Lk;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ik(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Lk)},getListeners:function(){return r}};return o}var Vk=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var jk=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=Mk(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);Vk((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||Ak;return e.createElement(u.Provider,{value:o},i)};function Fk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ak,n=t===Ak?Pk:function(){return(0,e.useContext)(t)};return function(){return n().store}}var Uk=Fk();function zk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ak,t=e===Ak?Uk:Fk(e);return function(){return t().dispatch}}var Bk,qk=zk();function Hk(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wk(e){return!!e&&!!e[Db]}function Kk(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Lb}(e)||Array.isArray(e)||!!e[Ob]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Ob])||Zk(e)||eb(e))}function Gk(e,t,n){void 0===n&&(n=!1),0===Qk(e)?(n?Object.keys:Mb)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Qk(e){var t=e[Db];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Zk(e)?2:eb(e)?3:0}function Yk(e,t){return 2===Qk(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $k(e,t){return 2===Qk(e)?e.get(t):e[t]}function Xk(e,t,n){var r=Qk(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Jk(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Zk(e){return Ab&&e instanceof Map}function eb(e){return Pb&&e instanceof Set}function tb(e){return e.o||e.t}function nb(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Vb(e);delete t[Db];for(var n=Mb(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function rb(e,t){return void 0===t&&(t=!1),ab(e)||Wk(e)||!Kk(e)||(Qk(e)>1&&(e.set=e.add=e.clear=e.delete=ib),Object.freeze(e),t&&Gk(e,(function(e,t){return rb(t,!0)}),!0)),e}function ib(){Hk(2)}function ab(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ob(e){var t=jb[e];return t||Hk(18,e),t}function sb(e,t){jb[e]||(jb[e]=t)}function ub(){return Cb}function cb(e,t){t&&(ob("Patches"),e.u=[],e.s=[],e.v=t)}function lb(e){fb(e),e.p.forEach(db),e.p=null}function fb(e){e===Cb&&(Cb=e.l)}function hb(e){return Cb={p:[],l:Cb,h:e,m:!0,_:0}}function db(e){var t=e[Db];0===t.i||1===t.i?t.j():t.g=!0}function pb(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||ob("ES5").S(t,e,r),r?(n[Db].P&&(lb(t),Hk(4)),Kk(e)&&(e=vb(t,e),t.l||yb(t,e)),t.u&&ob("Patches").M(n[Db].t,e,t.u,t.s)):e=vb(t,n,[]),lb(t),t.u&&t.v(t.u,t.s),e!==Rb?e:void 0}function vb(e,t,n){if(ab(t))return t;var r=t[Db];if(!r)return Gk(t,(function(i,a){return mb(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return yb(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=nb(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),Gk(a,(function(t,a){return mb(e,r,i,t,a,n,o)})),yb(e,i,!1),n&&e.u&&ob("Patches").N(r,n,e.u,e.s)}return r.o}function mb(e,t,n,r,i,a,o){if(Wk(i)){var s=vb(e,i,a&&t&&3!==t.i&&!Yk(t.R,r)?a.concat(r):void 0);if(Xk(n,r,s),!Wk(s))return;e.m=!1}else o&&n.add(i);if(Kk(i)&&!ab(i)){if(!e.h.D&&e._<1)return;vb(e,i),t&&t.A.l||yb(e,i)}}function yb(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&rb(t,n)}function gb(e,t){var n=e[Db];return(n?tb(n):e)[t]}function kb(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function bb(e){e.P||(e.P=!0,e.l&&bb(e.l))}function wb(e){e.o||(e.o=nb(e.t))}function xb(e,t,n){var r=Zk(t)?ob("MapSet").F(t,n):eb(t)?ob("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ub(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Fb;n&&(i=[r],a=Ub);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):ob("ES5").J(t,n);return(n?n.A:ub()).p.push(r),r}function Eb(e){return Wk(e)||Hk(22,e),function e(t){if(!Kk(t))return t;var n,r=t[Db],i=Qk(t);if(r){if(!r.P&&(r.i<4||!ob("ES5").K(r)))return r.t;r.I=!0,n=Sb(t,i),r.I=!1}else n=Sb(t,i);return Gk(n,(function(t,i){r&&$k(r.t,t)===i||Xk(n,t,e(i))})),3===i?new Set(n):n}(e)}function Sb(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return nb(e)}function Tb(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Db];return Fb.get(t,e)},set:function(t){var n=this[Db];Fb.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Db];if(!i.P)switch(i.i){case 5:r(i)&&bb(i);break;case 4:n(i)&&bb(i)}}}function n(e){for(var t=e.t,n=e.k,r=Mb(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Db){var o=t[a];if(void 0===o&&!Yk(t,a))return!0;var s=n[a],u=s&&s[Db];if(u?u.t!==o:!Jk(s,o))return!0}}var c=!!t[Db];return r.length!==Mb(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};sb("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Vb(n);delete a[Db];for(var o=Mb(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:ub(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Db,{value:a,writable:!0}),i},S:function(e,n,i){i?Wk(n)&&n[Db].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Db];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)Gk(a,(function(t){t!==Db&&(void 0!==i[t]||Yk(i,t)?o[t]||e(a[t]):(o[t]=!0,bb(n)))})),Gk(i,(function(e){void 0!==a[e]||Yk(a,e)||(o[e]=!1,bb(n))}));else if(5===s){if(r(n)&&(bb(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){Nk=e}(Tk.useSyncExternalStoreWithSelector),function(e){e}(Sk.useSyncExternalStore),Bk=_k.unstable_batchedUpdates,Ck=Bk;var _b,Cb,Ib="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ab="undefined"!=typeof Map,Pb="undefined"!=typeof Set,Nb="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Rb=Ib?Symbol.for("immer-nothing"):((_b={})["immer-nothing"]=!0,_b),Ob=Ib?Symbol.for("immer-draftable"):"__$immer_draftable",Db=Ib?Symbol.for("immer-state"):"__$immer_state",Lb=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Mb="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Vb=Object.getOwnPropertyDescriptors||function(e){var t={};return Mb(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},jb={},Fb={get:function(e,t){if(t===Db)return e;var n=tb(e);if(!Yk(n,t))return function(e,t,n){var r,i=kb(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Kk(r)?r:r===gb(e.t,t)?(wb(e),e.o[t]=xb(e.A.h,r,e)):r},has:function(e,t){return t in tb(e)},ownKeys:function(e){return Reflect.ownKeys(tb(e))},set:function(e,t,n){var r=kb(tb(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=gb(tb(e),t),a=null==i?void 0:i[Db];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Jk(n,i)&&(void 0!==n||Yk(e.t,t)))return!0;wb(e),bb(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==gb(e.t,t)||t in e.t?(e.R[t]=!1,wb(e),bb(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=tb(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Hk(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Hk(12)}},Ub={};Gk(Fb,(function(e,t){Ub[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ub.deleteProperty=function(e,t){return Ub.set.call(this,e,t,void 0)},Ub.set=function(e,t,n){return Fb.set.call(this,e[0],t,n,e[0])};var zb=function(){function e(e){var t=this;this.O=Nb,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Hk(6),void 0!==r&&"function"!=typeof r&&Hk(7),Kk(e)){var s=hb(t),u=xb(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?lb(s):fb(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return cb(s,r),pb(e,s)}),(function(e){throw lb(s),e})):(cb(s,r),pb(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Rb&&(o=void 0),t.D&&rb(o,!0),r){var l=[],f=[];ob("Patches").M(e,o,l,f),r(l,f)}return o}Hk(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Kk(e)||Hk(8),Wk(e)&&(e=Eb(e));var t=hb(this),n=xb(this,e,void 0);return n[Db].C=!0,fb(t),n},t.finishDraft=function(e,t){var n=(e&&e[Db]).A;return cb(n,t),pb(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Nb&&Hk(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ob("Patches").$;return Wk(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Bb=new zb,qb=Bb.produce,Hb=(Bb.produceWithPatches.bind(Bb),Bb.setAutoFreeze.bind(Bb),Bb.setUseProxies.bind(Bb),Bb.applyPatches.bind(Bb),Bb.createDraft.bind(Bb),Bb.finishDraft.bind(Bb),qb);function Wb(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Kb="function"===typeof Symbol&&Symbol.observable||"@@observable",Gb=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qb={INIT:"@@redux/INIT"+Gb(),REPLACE:"@@redux/REPLACE"+Gb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gb()}};function Yb(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $b(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Wb(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Wb(1));return n($b)(e,t)}if("function"!==typeof e)throw new Error(Wb(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Wb(3));return a}function f(e){if("function"!==typeof e)throw new Error(Wb(4));if(u)throw new Error(Wb(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Wb(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!Yb(e))throw new Error(Wb(7));if("undefined"===typeof e.type)throw new Error(Wb(8));if(u)throw new Error(Wb(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Qb.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Wb(10));i=e,h({type:Qb.REPLACE})}})[Kb]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Wb(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Kb]=function(){return this},e},r}function Xb(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Qb.INIT}))throw new Error(Wb(12));if("undefined"===typeof n(void 0,{type:Qb.PROBE_UNKNOWN_ACTION()}))throw new Error(Wb(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Wb(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Zb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Wb(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Jb.apply(void 0,a)(n.dispatch),l(l({},n),{},{dispatch:r})}}}function ew(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var tw=ew();tw.withExtraArgument=ew;var nw=tw,rw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iw=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},aw=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ow=Object.defineProperty,sw=Object.defineProperties,uw=Object.getOwnPropertyDescriptors,cw=Object.getOwnPropertySymbols,lw=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable,hw=function(e,t,n){return t in e?ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},dw=function(e,t){for(var n in t||(t={}))lw.call(t,n)&&hw(e,n,t[n]);if(cw)for(var r=0,i=cw(t);r<i.length;r++){n=i[r];fw.call(t,n)&&hw(e,n,t[n])}return e},pw=function(e,t){return sw(e,uw(t))},vw=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},mw="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Jb:Jb.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function yw(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var gw=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return rw(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,aw([void 0],e[0].concat(this)))):new(t.bind.apply(t,aw([void 0],e.concat(this))))},t}(Array),kw=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return rw(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,aw([void 0],e[0].concat(this)))):new(t.bind.apply(t,aw([void 0],e.concat(this))))},t}(Array);function bw(e){return Kk(e)?Hb(e,(function(){})):e}function ww(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new gw);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(nw.withExtraArgument(n.extraArgument)):r.push(nw));0;return r}(e)}}function xw(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return dw(dw({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ew(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Sw(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:bw(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Ew(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=dw(dw({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Ew(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return bw(e())};else{var c=bw(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=aw([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Wk(e))return void 0===(r=n(e,t))?e:r;if(Kk(e))return Hb(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?xw(c,r):xw(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Tw=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},_w=["name","message","stack","code"],Cw=function(e,t){this.payload=e,this.meta=t},Iw=function(e,t){this.payload=e,this.meta=t},Aw=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=_w;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=xw(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:pw(dw({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=xw(e+"/pending",(function(e,t,n){return{payload:void 0,meta:pw(dw({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=xw(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Aw)(e||"Rejected"),meta:pw(dw({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Tw(),h=new o;function d(e){l=e,h.abort()}var p=function(){return vw(this,null,(function(){var o,p,v,m,y,g;return iw(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new Cw(e,t)},fulfillWithValue:function(e,t){return new Iw(e,t)}})).then((function(t){if(t instanceof Cw)throw t;return t instanceof Iw?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof Cw?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(Pw)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Pw(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Nw="listenerMiddleware";xw(Nw+"/add"),xw(Nw+"/removeAll"),xw(Nw+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Rw,Ow=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ow(10);Tb();var Dw=Sw({name:"screen",initialState:{value:"auth"},reducers:{setScreen:function(e,t){e.value=t.payload}}}),Lw=Dw.actions.setScreen,Mw=Dw.reducer,Vw=(0,e.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),jw=(0,e.createContext)({}),Fw=(0,e.createContext)({strict:!1});function Uw(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function zw(e){return"string"===typeof e||Array.isArray(e)}function Bw(e){return"object"===typeof e&&"function"===typeof e.start}var qw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hw=["initial"].concat(qw);function Ww(e){return Bw(e.animate)||Hw.some((function(t){return zw(e[t])}))}function Kw(e){return Boolean(Ww(e)||e.variants)}function Gw(t){var n=function(e,t){if(Ww(e)){var n=e.initial,r=e.animate;return{initial:!1===n||zw(n)?n:void 0,animate:zw(r)?r:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(jw)),r=n.initial,i=n.animate;return(0,e.useMemo)((function(){return{initial:r,animate:i}}),[Qw(r),Qw(i)])}function Qw(e){return Array.isArray(e)?e.join(" "):e}var Yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$w={},Xw=function(e){$w[e]={isEnabled:function(t){return Yw[e].some((function(e){return!!t[e]}))}}};for(var Jw in Yw)Xw(Jw);var Zw=(0,e.createContext)({}),ex=Symbol.for("motionComponentSymbol");function tx(t){var n=t.preloadedFeatures,r=t.createVisualElement,i=t.useRender,a=t.useVisualState,o=t.Component;n&&function(e){for(var t in e)$w[t]=l(l({},$w[t]),e[t])}(n);var s=(0,e.forwardRef)((function(t,s){var u,c=l(l(l({},(0,e.useContext)(Vw)),t),{},{layoutId:nx(t)}),f=c.isStatic,h=Gw(t),d=a(t,f);if(!f&&w){h.visualElement=function(t,n,r,i){var a=(0,e.useContext)(jw).visualElement,o=(0,e.useContext)(Fw),s=(0,e.useContext)(T),u=(0,e.useContext)(Vw).reducedMotion,c=(0,e.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(t,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;return(0,e.useInsertionEffect)((function(){l&&l.update(r,s)})),x((function(){l&&l.render()})),(0,e.useEffect)((function(){l&&l.updateFeatures()})),(window.HandoffAppearAnimations?x:e.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),l}(o,d,c,r);var p=(0,e.useContext)(Zw),v=(0,e.useContext)(Fw).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,v,n,p))}return e.createElement(jw.Provider,{value:h},u&&h.visualElement?e.createElement(u,l({visualElement:h.visualElement},c)):null,i(o,t,function(t,n,r){return(0,e.useCallback)((function(e){e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):Uw(r)&&(r.current=e))}),[n])}(d,h.visualElement,s),d,f,h.visualElement))}));return s[ex]=o,s}function nx(t){var n=t.layoutId,r=(0,e.useContext)(U).id;return r&&void 0!==n?r+"-"+n:n}function rx(e){function t(t){return tx(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var ix=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ax(e){return"string"===typeof e&&!e.includes("-")&&!!(ix.indexOf(e)>-1||/[A-Z]/.test(e))}var ox={};var sx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ux=new Set(sx);function cx(e,t){var n=t.layout,r=t.layoutId;return ux.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ox[e]||"opacity"===e)}var lx=function(e){return Boolean(e&&e.getVelocity)},fx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hx=sx.length;var dx=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},px=dx("--"),vx=dx("var(--"),mx=function(e,t){return t&&"number"===typeof e?t.transform(e):e},yx=function(e,t,n){return Math.min(Math.max(n,e),t)},gx={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},kx=l(l({},gx),{},{transform:function(e){return yx(0,1,e)}}),bx=l(l({},gx),{},{default:1}),wx=function(e){return Math.round(1e5*e)/1e5},xx=/(-)?([\d]*\.?[\d])+/g,Ex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Sx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tx(e){return"string"===typeof e}var _x=function(e){return{test:function(t){return Tx(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Cx=_x("deg"),Ix=_x("%"),Ax=_x("px"),Px=_x("vh"),Nx=_x("vw"),Rx=l(l({},Ix),{},{parse:function(e){return Ix.parse(e)/100},transform:function(e){return Ix.transform(100*e)}}),Ox=l(l({},gx),{},{transform:Math.round}),Dx={borderWidth:Ax,borderTopWidth:Ax,borderRightWidth:Ax,borderBottomWidth:Ax,borderLeftWidth:Ax,borderRadius:Ax,radius:Ax,borderTopLeftRadius:Ax,borderTopRightRadius:Ax,borderBottomRightRadius:Ax,borderBottomLeftRadius:Ax,width:Ax,maxWidth:Ax,height:Ax,maxHeight:Ax,size:Ax,top:Ax,right:Ax,bottom:Ax,left:Ax,padding:Ax,paddingTop:Ax,paddingRight:Ax,paddingBottom:Ax,paddingLeft:Ax,margin:Ax,marginTop:Ax,marginRight:Ax,marginBottom:Ax,marginLeft:Ax,rotate:Cx,rotateX:Cx,rotateY:Cx,rotateZ:Cx,scale:bx,scaleX:bx,scaleY:bx,scaleZ:bx,skew:Cx,skewX:Cx,skewY:Cx,distance:Ax,translateX:Ax,translateY:Ax,translateZ:Ax,x:Ax,y:Ax,z:Ax,perspective:Ax,transformPerspective:Ax,opacity:kx,originX:Rx,originY:Rx,originZ:Ax,zIndex:Ox,fillOpacity:kx,strokeOpacity:kx,numOctaves:Ox};function Lx(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(px(f))a[f]=h;else{var d=Dx[f],p=mx(h,d);if(ux.has(f)){if(u=!0,o[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<hx;c++){var l=sx[c];if(void 0!==e[l]){var f=fx[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,k=s.originZ,b=void 0===k?0:k;i.transformOrigin="".concat(m," ").concat(g," ").concat(b)}}var Mx=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function Vx(e,t,n){for(var r in t)lx(t[r])||cx(r,n)||(e[r]=t[r])}function jx(t,n,r){var i={};return Vx(i,t.style||{},t),Object.assign(i,function(t,n,r){var i=t.transformTemplate;return(0,e.useMemo)((function(){var e=Mx();return Lx(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(t,n,r)),t.transformValues?t.transformValues(i):i}function Fx(e,t,n){var r={},i=jx(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var Ux=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function zx(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Ux.has(e)}var Bx,qx=function(e){return!zx(e)};try{(Bx=require("@emotion/is-prop-valid").default)&&(qx=function(e){return e.startsWith("on")?!zx(e):Bx(e)})}catch(gA){}function Hx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wx(e,t,n){return"string"===typeof e?e:Ax.transform(t+n*e)}var Kx={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gx={offset:"strokeDashoffset",array:"strokeDasharray"};var Qx=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Yx(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,f=t.pathSpacing,h=void 0===f?1:f,d=t.pathOffset,p=void 0===d?0:d;if(Lx(e,Hx(t,Qx),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,m=e.style,y=e.dimensions;v.transform&&(y&&(m.transform=v.transform),delete v.transform),y&&(void 0!==u||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=Wx(t,e.x,e.width),i=Wx(n,e.y,e.height);return"".concat(r," ").concat(i)}(y,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(v.x=a),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?Kx:Gx;e[a.offset]=Ax.transform(-r);var o=Ax.transform(t),s=Ax.transform(n);e[a.array]="".concat(o," ").concat(s)}(v,l,h,p,!1)}}var $x=function(){return l(l({},Mx()),{},{attrs:{}})},Xx=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Jx(t,n,r,i){var a=(0,e.useMemo)((function(){var e=$x();return Yx(e,n,{enableHardwareAcceleration:!1},Xx(i),t.transformTemplate),l(l({},e.attrs),{},{style:l({},e.style)})}),[n]);if(t.style){var o={};Vx(o,t.style,t),a.style=l(l({},o),a.style)}return a}function Zx(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,a,o){var s=a.latestValues,u=(ax(n)?Jx:Fx)(r,s,o,n),c=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(qx(i)||!0===n&&zx(i)||!t&&!zx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,t),f=l(l(l({},c),u),{},{ref:i}),h=r.children,d=(0,e.useMemo)((function(){return lx(h)?h.get():h}),[h]);return(0,e.createElement)(n,l(l({},f),{},{children:d}))}}var eE=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function tE(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var nE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rE(e,t,n,r){for(var i in tE(e,t,void 0,r),t.attrs)e.setAttribute(nE.has(i)?i:eE(i),t.attrs[i])}function iE(e,t){var n=e.style,r={};for(var i in n)(lx(n[i])||t.style&&lx(t.style[i])||cx(i,e))&&(r[i]=n[i]);return r}function aE(e,t){var n=iE(e,t);for(var r in e){if(lx(e[r])||lx(t[r]))n[-1!==sx.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function oE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var sE=function(e){return Array.isArray(e)},uE=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},cE=function(e){return sE(e)?e[e.length-1]||0:e};function lE(e){var t=lx(e)?e.get():e;return uE(t)?t.toValue():t}var fE=["transitionEnd","transition"];var hE=function(t){return function(n,r){var i=(0,e.useContext)(jw),a=(0,e.useContext)(T),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:dE(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(t,n,i,a)};return r?o():_(o)}};function dE(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=lE(a[o]);var s=e.initial,u=e.animate,c=Ww(e),l=Kw(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!Bw(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=oE(e,t);if(n){var r=n.transitionEnd,a=(n.transition,Hx(n,fE));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var pE={useVisualState:hE({scrapeMotionValuesFromProps:aE,createRenderState:$x,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}Yx(r,i,{enableHardwareAcceleration:!1},Xx(t.tagName),e.transformTemplate),rE(t,r)}})},vE={useVisualState:hE({scrapeMotionValuesFromProps:iE,createRenderState:Mx})};function mE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var yE=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function gE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var kE=function(e){return function(t){return yE(t)&&e(t,gE(t))}};function bE(e,t,n,r){return mE(e,t,kE(n),r)}var wE=function(e,t){return function(n){return t(e(n))}},xE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(wE)};function EE(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var SE=EE("dragHorizontal"),TE=EE("dragVertical");function _E(e){var t=!1;if("y"===e)t=TE();else if("x"===e)t=SE();else{var n=SE(),r=TE();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function CE(){var e=_E(!0);return!e||(e(),!1)}var IE=function(){function e(t){C(this,e),this.isMounted=!1,this.node=t}return A(e,[{key:"update",value:function(){}}]),e}();function AE(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return bE(e.current,n,(function(n,i){if("touch"!==n.type&&!CE()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&k.update((function(){return a[r](n,i)}))}}),{passive:!e.getProps()[r]})}var PE=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"mount",value:function(){this.unmount=xE(AE(this.node,!0),AE(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(IE),NE=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return A(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=xE(mE(this.node.current,"focus",(function(){return e.onFocus()})),mE(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(IE),RE=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function OE(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,gE(n))}}var DE=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).removeStartListeners=z,e.removeEndListeners=z,e.removeAccessibleListeners=z,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=bE(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;k.update((function(){RE(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),a=bE(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=xE(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=mE(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=mE(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&OE("up",(function(t,n){var r=e.node.getProps().onTap;r&&k.update((function(){return r(t,n)}))}))})),OE("down",(function(t,n){e.startPress(t,n)}))}})),n=mE(e.node.current,"blur",(function(){e.isPressing&&OE("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=xE(t,n)},e}return A(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&k.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!CE()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&k.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=bE(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=mE(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xE(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(IE),LE=["root"],ME=new WeakMap,VE=new WeakMap,jE=function(e){var t=ME.get(e.target);t&&t(e)},FE=function(e){e.forEach(jE)};function UE(e,t,n){var r=function(e){var t=e.root,n=Hx(e,LE),r=t||document;VE.has(r)||VE.set(r,{});var i=VE.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(FE,l({root:t},n))),i[a]}(t);return ME.set(e,n),r.observe(e),function(){ME.delete(e),r.unobserve(e)}}var zE={some:0,all:1},BE=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return A(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:zE[o]};return UE(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(IE);var qE={inView:{Feature:BE},tap:{Feature:DE},focus:{Feature:NE},hover:{Feature:PE}};function HE(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function WE(e,t,n){var r=e.getProps();return oE(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var KE="data-"+eE("framerAppearId"),GE=function(e){return 1e3*e},QE=function(e){return e/1e3},YE=!1,$E=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function XE(e){return Boolean(!e||"string"===typeof e&&ZE[e]||$E(e)||Array.isArray(e)&&e.every(XE))}var JE=function(e){var t=f(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},ZE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:JE([0,.65,.55,1]),circOut:JE([.55,0,1,.45]),backIn:JE([.31,.01,.66,-.59]),backOut:JE([.33,1.53,.69,.99])};function eS(e){if(e)return $E(e)?JE(e):Array.isArray(e)?e.map(eS):ZE[e]}var tS={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},nS={},rS={},iS=function(e){rS[e]=function(){return void 0===nS[e]&&(nS[e]=tS[e]()),nS[e]}};for(var aS in tS)iS(aS);var oS=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},sS=1e-7,uS=12;function cS(e,t,n,r){if(e===t&&n===r)return z;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=oS(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>sS&&++s<uS);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:oS(i(e),t,r)}}var lS=cS(.42,0,1,1),fS=cS(0,0,.58,1),hS=cS(.42,0,.58,1),dS=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},pS=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},vS=function(e){return function(t){return 1-e(1-t)}},mS=function(e){return 1-Math.sin(Math.acos(e))},yS=vS(mS),gS=pS(yS),kS=cS(.33,1.53,.69,.99),bS=vS(kS),wS=pS(bS),xS={linear:z,easeIn:lS,easeInOut:hS,easeOut:fS,circIn:mS,circInOut:gS,circOut:yS,backIn:bS,backInOut:wS,backOut:kS,anticipate:function(e){return(e*=2)<1?.5*bS(e):.5*(2-Math.pow(2,-10*(e-1)))}},ES=function(e){if(Array.isArray(e)){q(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=f(e,4);return cS(t[0],t[1],t[2],t[3])}return"string"===typeof e?(q(void 0!==xS[e],"Invalid easing type '".concat(e,"'")),xS[e]):e},SS=function(e,t){return function(n){return Boolean(Tx(n)&&Sx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},TS=function(e,t,n){return function(r){var i;if(!Tx(r))return r;var a=f(r.match(xx),4),o=a[0],s=a[1],c=a[2],l=a[3];return u(i={},e,parseFloat(o)),u(i,t,parseFloat(s)),u(i,n,parseFloat(c)),u(i,"alpha",void 0!==l?parseFloat(l):1),i}},_S=l(l({},gx),{},{transform:function(e){return Math.round(function(e){return yx(0,255,e)}(e))}}),CS={test:SS("rgb","red"),parse:TS("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+_S.transform(t)+", "+_S.transform(n)+", "+_S.transform(r)+", "+wx(kx.transform(a))+")"}};var IS={test:SS("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:CS.transform},AS={test:SS("hsl","hue"),parse:TS("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Ix.transform(wx(n))+", "+Ix.transform(wx(r))+", "+wx(kx.transform(a))+")"}},PS={test:function(e){return CS.test(e)||IS.test(e)||AS.test(e)},parse:function(e){return CS.test(e)?CS.parse(e):AS.test(e)?AS.parse(e):IS.parse(e)},transform:function(e){return Tx(e)?e:e.hasOwnProperty("red")?CS.transform(e):AS.transform(e)}},NS=function(e,t,n){return-n*e+n*t+e};function RS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var OS=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},DS=[IS,CS,AS];function LS(e){var t=function(e){return DS.find((function(t){return t.test(e)}))}(e);q(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===AS&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=RS(c,u,t+1/3),o=RS(c,u,t),s=RS(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var MS=function(e,t){var n=LS(e),r=LS(t),i=l({},n);return function(e){return i.red=OS(n.red,r.red,e),i.green=OS(n.green,r.green,e),i.blue=OS(n.blue,r.blue,e),i.alpha=NS(n.alpha,r.alpha,e),CS.transform(i)}};var VS={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:z},jS={regex:Ex,countKey:"Colors",token:"${c}",parse:PS.parse},FS={regex:xx,countKey:"Numbers",token:"${n}",parse:gx.parse};function US(e,t){var n,r=t.regex,i=t.countKey,o=t.token,s=t.parse,u=e.tokenised.match(r);u&&(e["num"+i]=u.length,e.tokenised=e.tokenised.replace(r,o),(n=e.values).push.apply(n,a(u.map(s))))}function zS(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&US(n,VS),US(n,jS),US(n,FS),n}function BS(e){return zS(e).values}function qS(e){var t=zS(e),n=t.values,r=t.numColors,i=t.numVars,a=t.tokenised,o=n.length;return function(e){for(var t=a,n=0;n<o;n++)t=n<i?t.replace(VS.token,e[n]):n<i+r?t.replace(jS.token,PS.transform(e[n])):t.replace(FS.token,wx(e[n]));return t}}var HS=function(e){return"number"===typeof e?0:e};var WS={test:function(e){var t,n;return isNaN(e)&&Tx(e)&&((null===(t=e.match(xx))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ex))||void 0===n?void 0:n.length)||0)>0},parse:BS,createTransformer:qS,getAnimatableNone:function(e){var t=BS(e);return qS(e)(t.map(HS))}},KS=function(e,t){return function(n){return"".concat(n>0?t:e)}};function GS(e,t){return"number"===typeof e?function(n){return NS(e,t,n)}:PS.test(e)?MS(e,t):e.startsWith("var(")?KS(e,t):$S(e,t)}var QS=function(e,t){var n=a(e),r=n.length,i=e.map((function(e,n){return GS(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},YS=function(e,t){var n=l(l({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=GS(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},$S=function(e,t){var n=WS.createTransformer(t),r=zS(e),i=zS(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?xE(QS(r.values,i.values),n):(B(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),KS(e,t))},XS=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},JS=function(e,t){return function(n){return NS(e,t,n)}};function ZS(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?JS:"string"===typeof e?PS.test(e)?MS:$S:Array.isArray(e)?QS:"object"===typeof e?YS:JS}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||z:t;s=xE(u,s)}r.push(s)}return r}function eT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,o=n.ease,s=n.mixer,u=e.length;if(q(u===t.length,"Both input and output ranges must be the same length"),1===u)return function(){return t[0]};e[0]>e[u-1]&&(e=a(e).reverse(),t=a(t).reverse());var c=ZS(t,o,s),l=c.length,f=function(t){var n=0;if(l>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=XS(e[n],e[n+1],t);return c[n](r)};return i?function(t){return f(yx(e[0],e[u-1],t))}:f}function tT(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=XS(0,t,r);e.push(NS(n,1,i))}}(t,e.length-1),t}function nT(e){var t,n,r=e.duration,i=void 0===r?300:r,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=dS(u)?u.map(ES):ES(u),l={done:!1,value:a[0]},f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:tT(a),i),h=eT(f,a,{ease:Array.isArray(c)?c:(t=a,n=c,t.map((function(){return n||hS})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=h(e),l.done=e>=i,l}}}function rT(e,t){return t?e*(1e3/t):0}var iT=5;function aT(e,t,n){var r=Math.max(t-iT,0);return rT(n-e(r),t-r)}var oT=.001,sT=.01,uT=10,cT=.05,lT=1;function fT(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;B(i<=GE(uT),"Spring duration must be 10 seconds or less");var f=1-o;f=yx(cT,lT,f),i=yx(sT,uT,QE(i)),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=dT(e,f),o=Math.exp(-n);return oT-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=dT(Math.pow(e,2),f);return(-t(e)+oT>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-oT},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<hT;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=GE(i),isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var hT=12;function dT(e,t){return e*Math.sqrt(1-t*t)}var pT=["keyframes","restDelta","restSpeed"],vT=["duration","bounce"],mT=["stiffness","damping","mass"];function yT(e,t){return t.some((function(t){return void 0!==e[t]}))}function gT(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,a=Hx(e,pT),o=n[0],s=n[n.length-1],u={done:!1,value:o},c=function(e){var t=l({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!yT(e,mT)&&yT(e,vT)){var n=fT(e);(t=l(l(l({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),f=c.stiffness,h=c.damping,d=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,y=p?-QE(p):0,g=h/(2*Math.sqrt(f*d)),k=s-o,b=QE(Math.sqrt(f/d)),w=Math.abs(k)<5;if(i||(i=w?.01:2),r||(r=w?.005:.5),g<1){var x=dT(b,g);t=function(e){var t=Math.exp(-g*b*e);return s-t*((y+g*b*k)/x*Math.sin(x*e)+k*Math.cos(x*e))}}else if(1===g)t=function(e){return s-Math.exp(-b*e)*(k+(y+b*k)*e)};else{var E=b*Math.sqrt(g*g-1);t=function(e){var t=Math.exp(-g*b*e),n=Math.min(E*e,300);return s-t*((y+g*b*k)*Math.sinh(n)+E*k*Math.cosh(n))/E}}return{calculatedDuration:m&&v||null,next:function(e){var n=t(e);if(m)u.done=e>=v;else{var a=y;0!==e&&(a=g<1?aT(t,e,n):0);var o=Math.abs(a)<=i,c=Math.abs(s-n)<=r;u.done=o&&c}return u.value=u.done?s:n,u}}}function kT(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,f=void 0===l?500:l,h=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,y=e.restSpeed,g=t[0],k={done:!1,value:g},b=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},w=a*r,x=g+w,E=void 0===h?x:h(x);E!==x&&(w=E-g);var S,T,_=function(e){return-w*Math.exp(-e/s)},C=function(e){return E+_(e)},I=function(e){var t=_(e),n=C(e);k.done=Math.abs(t)<=m,k.value=k.done?E:n},A=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(k.value)&&(S=e,T=gT({keyframes:[k.value,b(k.value)],velocity:aT(C,e,k.value),damping:c,stiffness:f,restDelta:m,restSpeed:y}))};return A(0),{calculatedDuration:null,next:function(e){var t=!1;return T||void 0!==S||(t=!0,I(e),A(e)),void 0!==S&&e>S?T.next(e-S):(!t&&I(e),k)}}}var bT=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return k.update(t,!0)},stop:function(){return b(t)},now:function(){return h.isProcessing?h.timestamp:performance.now()}}},wT=2e4;function xT(e){for(var t=0,n=e.next(t);!n.done&&t<wT;)t+=50,n=e.next(t);return t>=wT?1/0:t}var ET=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],ST={decay:kT,inertia:kT,tween:nT,keyframes:nT,spring:gT};function TT(e){var t,n,r,i=e.autoplay,o=void 0===i||i,s=e.delay,u=void 0===s?0:s,c=e.driver,f=void 0===c?bT:c,h=e.keyframes,d=e.type,p=void 0===d?"keyframes":d,v=e.repeat,m=void 0===v?0:v,y=e.repeatDelay,g=void 0===y?0:y,k=e.repeatType,b=void 0===k?"loop":k,w=e.onPlay,x=e.onStop,E=e.onComplete,S=e.onUpdate,T=Hx(e,ET),_=1,C=!1,I=function(){t&&t(),n=new Promise((function(e){t=e}))};I();var A,P=ST[p]||nT;P!==nT&&"number"!==typeof h[0]&&(A=eT([0,100],h,{clamp:!1}),h=[0,100]);var N,R=P(l(l({},T),{},{keyframes:h}));"mirror"===b&&(N=P(l(l({},T),{},{keyframes:a(h).reverse(),velocity:-(T.velocity||0)})));var O="idle",D=null,L=null,M=null;null===R.calculatedDuration&&m&&(R.calculatedDuration=xT(R));var V=R.calculatedDuration,j=1/0,F=1/0;null!==V&&(F=(j=V+g)*(m+1)-g);var U=0,z=function(e){if(null!==L){_>0&&(L=Math.min(L,e));var t=(U=null!==D?D:(e-L)*_)-u,n=t<0;U=Math.max(t,0),"finished"===O&&null===D&&(U=F);var r=U,i=R;if(m){var a=U/j,o=Math.floor(a),s=a%1;!s&&a>=1&&(s=1),1===s&&o--,o=Math.min(o,m+1);var c=Boolean(o%2);c&&("reverse"===b?(s=1-s,g&&(s-=g/j)):"mirror"===b&&(i=N));var l=yx(0,1,s);U>F&&(l="reverse"===b&&c?1:0),r=l*j}var f=n?{done:!1,value:h[0]}:i.next(r);A&&(f.value=A(f.value));var d=f.done;n||null===V||(d=U>=F);var p=null===D&&("finished"===O||"running"===O&&d||_<0&&U<=0);return S&&S(f.value),p&&H(),f}},B=function(){r&&r.stop(),r=void 0},q=function(){O="idle",B(),I(),L=M=null},H=function(){O="finished",E&&E(),B(),I()},W=function(){if(!C){r||(r=f(z));var e=r.now();w&&w(),null!==D?L=e-D:L&&"finished"!==O||(L=e),M=L,D=null,O="running",r.start()}};o&&W();var K={then:function(e,t){return n.then(e,t)},get time(){return QE(U)},set time(e){e=GE(e),U=e,null===D&&r&&0!==_?L=r.now()-e/_:D=e},get duration(){var e=null===R.calculatedDuration?xT(R):R.calculatedDuration;return QE(e)},get speed(){return _},set speed(e){e!==_&&r&&(_=e,K.time=QE(U))},get state(){return O},play:W,pause:function(){O="paused",D=U},stop:function(){C=!0,"idle"!==O&&(O="idle",x&&x(),q())},cancel:function(){null!==M&&z(M),q()},complete:function(){O="finished"},sample:function(e){return L=0,z(e)}};return K}var _T=["onUpdate","onComplete"],CT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function IT(e,t,n){n.onUpdate;var r=n.onComplete,i=Hx(n,_T);if(!(rS.waapi()&&CT.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,o,s=!1,c=function(){o=new Promise((function(e){a=e}))};c();var f=i.keyframes,h=i.duration,d=void 0===h?300:h,p=i.ease,v=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!XE(t.ease)}(t,i)){for(var m=TT(l(l({},i),{},{repeat:0,delay:0})),y={done:!1,value:f[0]},g=[],w=0;!y.done&&w<2e4;)y=m.sample(w),g.push(y.value),w+=10;v=void 0,f=g,d=w-10,p="linear"}var x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,a=void 0===i?0:i,o=r.duration,s=r.repeat,c=void 0===s?0:s,l=r.repeatType,f=void 0===l?"loop":l,h=r.ease,d=r.times,p=u({},t,n);d&&(p.offset=d);var v=eS(h);return Array.isArray(v)&&(p.easing=v),e.animate(p,{delay:a,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:"reverse"===f?"alternate":"normal"})}(e.owner.current,t,f,l(l({},i),{},{duration:d,ease:p,times:v})),E=function(){return x.cancel()},S=function(){k.update(E),a(),c()};return x.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(f,i)),r&&r(),S()},{then:function(e,t){return o.then(e,t)},get time(){return QE(x.currentTime||0)},set time(e){x.currentTime=GE(e)},get speed(){return x.playbackRate},set speed(e){x.playbackRate=e},get duration(){return QE(d)},play:function(){s||(x.play(),b(E))},pause:function(){return x.pause()},stop:function(){if(s=!0,"idle"!==x.playState){var t=x.currentTime;if(t){var n=TT(l(l({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}S()}},complete:function(){return x.finish()},cancel:S}}var AT={type:"spring",stiffness:500,damping:25,restSpeed:10},PT={type:"keyframes",duration:.8},NT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RT=function(e,t){var n=t.keyframes;return n.length>2?PT:ux.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:AT:NT},OT=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!WS.test(t)&&"0"!==t||t.startsWith("url(")))},DT=new Set(["brightness","contrast","saturate","opacity"]);function LT(e){var t=f(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=f(r.match(xx)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=DT.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var MT=/([a-z-]*)\(.*?\)/g,VT=l(l({},WS),{},{getAnimatableNone:function(e){var t=e.match(MT);return t?t.map(LT).join(" "):e}}),jT=l(l({},Dx),{},{color:PS,backgroundColor:PS,outlineColor:PS,fill:PS,stroke:PS,borderColor:PS,borderTopColor:PS,borderRightColor:PS,borderBottomColor:PS,borderLeftColor:PS,filter:VT,WebkitFilter:VT}),FT=function(e){return jT[e]};function UT(e,t){var n=FT(e);return n!==VT&&(n=WS),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var zT=function(e){return/^0[^.\s]+$/.test(e)};function BT(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||zT(e):void 0}var qT=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function HT(e,t){return e[t]||e.default||e}var WT=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var o=HT(r,e)||{},s=o.delay||r.delay||0,u=r.elapsed,c=void 0===u?0:u;c-=GE(s);var f=function(e,t,n,r){var i,o=OT(t,n);i=Array.isArray(n)?a(n):[null,n];for(var s=void 0!==r.from?r.from:e.get(),u=void 0,c=[],l=0;l<i.length;l++)null===i[l]&&(i[l]=0===l?s:i[l-1]),BT(i[l])&&c.push(l),"string"===typeof i[l]&&"none"!==i[l]&&"0"!==i[l]&&(u=i[l]);if(o&&c.length&&u)for(var f=0;f<c.length;f++)i[c[f]]=UT(t,u);return i}(t,e,n,o),h=f[0],d=f[f.length-1],p=OT(e,h),v=OT(e,d);B(p===v,"You are trying to animate ".concat(e,' from "').concat(h,'" to "').concat(d,'". ').concat(h," is not an animatable value - to enable this animation set ").concat(h," to a value animatable to ").concat(d," via the `style` property."));var m=l(l({keyframes:f,velocity:t.getVelocity(),ease:"easeOut"},o),{},{delay:-c,onUpdate:function(e){t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:function(){i(),o.onComplete&&o.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=Hx(e,qT);return!!Object.keys(t).length}(o)||(m=l(l({},m),RT(e,m))),m.duration&&(m.duration=GE(m.duration)),m.repeatDelay&&(m.repeatDelay=GE(m.repeatDelay)),!p||!v||YE||!1===o.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:z,pause:z,stop:z,then:function(e){return e(),Promise.resolve()},cancel:z,complete:z}};return n?TT({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var y=IT(t,e,m);if(y)return y}return TT(m)}};function KT(e){return Boolean(lx(e)&&e.add)}var GT=function(e){return/^\-?\d*\.?\d+$/.test(e)};function QT(e,t){-1===e.indexOf(t)&&e.push(t)}function YT(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var $T=function(){function e(){C(this,e),this.subscriptions=[]}return A(e,[{key:"add",value:function(e){var t=this;return QT(this.subscriptions,e),function(){return YT(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),XT=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(this,e),this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=h.delta,i=h.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,k.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return k.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return A(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new $T);var r=this.events[e].add(t);return"change"===e?function(){r(),k.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?rT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function JT(e,t){return new XT(e,t)}var ZT=function(e){return function(t){return t.test(e)}},e_=[gx,Ax,Ix,Cx,Nx,Px,{test:function(e){return"auto"===e},parse:function(e){return e}}],t_=function(e){return e_.find(ZT(e))},n_=[].concat(a(e_),[PS,WS]),r_=function(e){return n_.find(ZT(e))},i_=["transitionEnd","transition"];function a_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,JT(n))}function o_(e,t){var n=WE(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,Hx(r,i_));for(var s in o=l(l({},o),a)){a_(e,s,cE(o[s]))}}function s_(e,t){if(t)return(t[e]||t.default||t).from}var u_=["transition","transitionEnd"];function c_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,f=s.transitionEnd,h=Hx(s,u_),d=e.getValue("willChange");a&&(c=a);var p=[],v=o&&e.animationState&&e.animationState.getState()[o],m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(v,t))return"continue";var a=l({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[KE];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,k))}n.start(WT(t,n,r,e.shouldReduceMotion&&ux.has(t)?{type:!1}:a));var s=n.animation;KT(d)&&(d.add(t),s.then((function(){return d.remove(t)}))),p.push(s)};for(var y in h)m(y);return f&&Promise.all(p).then((function(){f&&o_(e,f)})),p}function l_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=WE(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return Promise.all(c_(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(f_).forEach((function(e,r){e.notify("AnimationStart",t),o.push(l_(e,t,l(l({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var c=f("beforeChildren"===u?[o,s]:[s,o],2),h=c[0],d=c[1];return h().then((function(){return d()}))}return Promise.all([o(),s(n.delay)])}function f_(e,t){return e.sortNodePosition(t)}var h_=["transition","transitionEnd"],d_=a(qw).reverse(),p_=qw.length;function v_(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return l_(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=l_(e,t,r);else{var a="function"===typeof t?WE(e,t,r.custom):t;n=Promise.all(c_(e,a,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function m_(e){var t=v_(e),n={animate:y_(!0),whileInView:y_(),whileHover:y_(),whileTap:y_(),whileDrag:y_(),whileFocus:y_(),exit:y_()},r=!0,i=function(t,n){var r=WE(e,n);if(r){r.transition;var i=r.transitionEnd,a=Hx(r,h_);t=l(l(l({},t),a),i)}return t};function o(o,s){for(var u=e.getProps(),c=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(){var t=d_[m],v=n[t],y=void 0!==u[t]?u[t]:c[t],g=zw(y),k=t===s?v.isActive:null;!1===k&&(p=m);var b=y===c[t]&&y!==u[t]&&g;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=l({},d),!v.isActive&&null===k||!y&&!v.prevProp||Bw(y)||"boolean"===typeof y)return"continue";var w=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!HE(t,e);return!1}(v.prevProp,y),x=w||t===s&&v.isActive&&!b&&g||m>p&&g,E=Array.isArray(y)?y:[y],S=E.reduce(i,{});!1===k&&(S={});var T=v.prevResolvedValues,_=void 0===T?{}:T,C=l(l({},_),S),I=function(e){x=!0,h.delete(e),v.needsAnimating[e]=!0};for(var A in C){var P=S[A],N=_[A];d.hasOwnProperty(A)||(P!==N?sE(P)&&sE(N)?!HE(P,N)||w?I(A):v.protectedKeys[A]=!0:void 0!==P?I(A):h.add(A):void 0!==P&&h.has(A)?I(A):v.protectedKeys[A]=!0)}v.prevProp=y,v.prevResolvedValues=S,v.isActive&&(d=l(l({},d),S)),r&&e.blockInitialAnimation&&(x=!1),x&&!b&&f.push.apply(f,a(E.map((function(e){return{animation:e,options:l({type:t},o)}}))))},m=0;m<p_;m++)v();if(h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return r&&!1===u.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function y_(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var g_=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),r=t.call(this,e),e.animationState||(e.animationState=m_(e)),r}return A(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),Bw(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(IE),k_=0,b_=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).id=k_++,e}return A(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(IE),w_={animation:{Feature:g_},exit:{Feature:b_}},x_=function(e,t){return Math.abs(e-t)};var E_=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(C(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=__(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=x_(e.x,t.x),r=x_(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=h.timestamp;r.history.push(l(l({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=S_(t,r.transformPagePoint),k.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=__("pointercancel"===e.type?r.lastMoveEventInfo:S_(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},yE(t)){this.handlers=n,this.transformPagePoint=i;var a=S_(gE(t),this.transformPagePoint),o=a.point,s=h.timestamp;this.history=[l(l({},o),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,__(a,this.history)),this.removeListeners=xE(bE(window,"pointermove",this.handlePointerMove),bE(window,"pointerup",this.handlePointerUp),bE(window,"pointercancel",this.handlePointerUp))}}return A(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),b(this.updatePoint)}}]),e}();function S_(e,t){return t?{point:t(e.point)}:e}function T_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function __(e,t){var n=e.point;return{point:n,delta:T_(n,I_(t)),offset:T_(n,C_(t)),velocity:A_(t,.1)}}function C_(e){return e[0]}function I_(e){return e[e.length-1]}function A_(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=I_(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>GE(t)));)n--;if(!r)return{x:0,y:0};var a=QE(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function P_(e){return e.max-e.min}function N_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function R_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=NS(t.min,t.max,e.origin),e.scale=P_(n)/P_(t),(N_(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=NS(n.min,n.max,e.origin)-e.originPoint,(N_(e.translate)||isNaN(e.translate))&&(e.translate=0)}function O_(e,t,n,r){R_(e.x,t.x,n.x,r?r.originX:void 0),R_(e.y,t.y,n.y,r?r.originY:void 0)}function D_(e,t,n){e.min=n.min+t.min,e.max=e.min+P_(t)}function L_(e,t,n){e.min=t.min-n.min,e.max=e.min+P_(t)}function M_(e,t,n){L_(e.x,t.x,n.x),L_(e.y,t.y,n.y)}function V_(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function j_(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var F_=.35;function U_(e,t,n){return{min:z_(e,t),max:z_(e,n)}}function z_(e,t){return"number"===typeof e?e:e[t]||0}var B_=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},q_=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function H_(e){return[e("x"),e("y")]}function W_(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function K_(e){return void 0===e||1===e}function G_(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!K_(t)||!K_(n)||!K_(r)}function Q_(e){return G_(e)||Y_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Y_(e){return $_(e.x)||$_(e.y)}function $_(e){return e&&"0%"!==e}function X_(e,t,n){return n+t*(e-n)}function J_(e,t,n,r,i){return void 0!==i&&(e=X_(e,i,r)),X_(e,n,r)+t}function Z_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=J_(e.min,t,n,r,i),e.max=J_(e.max,t,n,r,i)}function eC(e,t){var n=t.x,r=t.y;Z_(e.x,n.translate,n.scale,n.originPoint),Z_(e.y,r.translate,r.scale,r.originPoint)}function tC(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function nC(e,t){e.min=e.min+t,e.max=e.max+t}function rC(e,t,n){var r=f(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=NS(e.min,e.max,s);Z_(e,t[i],t[a],u,t.scale)}var iC=["x","scaleX","originX"],aC=["y","scaleY","originY"];function oC(e,t){rC(e.x,t,iC),rC(e.y,t,aC)}function sC(e,t){return W_(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var uC=new WeakMap,cC=function(){function e(t){C(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=q_(),this.visualElement=t}return A(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new E_(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(gE(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=_E(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),H_((function(e){var n=t.getAxisMotionValue(e).get()||0;if(Ix.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=P_(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&k.update((function(){return o(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&k.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&lC(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?NS(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?NS(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&Uw(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:V_(e.x,r,a),y:V_(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F_;return!1===e?e=0:!0===e&&(e=F_),{x:U_(e,"left","right"),y:U_(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&H_((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Uw(t))return!1;var r=t.current;q(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=sC(e,n),i=t.scroll;return i&&(nC(r.x,i.offset.x),nC(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:j_(e.x,t.x),y:j_(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=W_(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},f=H_((function(n){if(lC(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=l(l({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,d)}}));return Promise.all(f).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(WT(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;H_((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;H_((function(n){if(lC(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-NS(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(Uw(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};H_((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=P_(e),i=P_(t);return i>r?n=XS(t.min,t.max-r,e.min):r>i&&(n=XS(e.min,e.max-i,t.min)),yx(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),H_((function(t){if(lC(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(NS(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){uC.set(this.visualElement,this);var t=bE(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){Uw(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=mE(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(H_((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,f=void 0===c?F_:c,h=e.dragMomentum,d=void 0===h||h;return l(l({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:d})}}]),e}();function lC(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var fC=function(e){N(n,e);var t=L(n);function n(e){var r;return C(this,n),(r=t.call(this,e)).removeGroupControls=z,r.removeListeners=z,r.controls=new cC(e),r}return A(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||z}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(IE),hC=function(e){return function(t,n){e&&k.update((function(){return e(t,n)}))}},dC=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).removePointerDownListener=z,e}return A(n,[{key:"onPointerDown",value:function(e){this.session=new E_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:hC(n),onStart:hC(r),onMove:i,onEnd:function(t,n){delete e.session,a&&k.update((function(){return a(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=bE(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(IE);var pC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var mC={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Ax.test(e))return e;e=parseFloat(e)}var n=vC(e,t.target.x),r=vC(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},yC={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=WS.parse(e);if(a.length>5)return i;var o=WS.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=c;var l=NS(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},gC=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=bC,Object.assign(ox,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(l(l({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),pC.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||k.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(e.Component);function kC(t){var n=function(){var t=(0,e.useContext)(T);if(null===t)return[!0,null];var n=t.isPresent,r=t.onExitComplete,i=t.register,a=(0,e.useId)();return(0,e.useEffect)((function(){return i(a)}),[]),!n&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=f(n,2),i=r[0],a=r[1],o=(0,e.useContext)(U);return e.createElement(gC,l(l({},t),{},{layoutGroup:o,switchLayoutGroup:(0,e.useContext)(Zw),isPresent:i,safeToRemove:a}))}var bC={borderRadius:l(l({},mC),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:mC,borderTopRightRadius:mC,borderBottomLeftRadius:mC,borderBottomRightRadius:mC,boxShadow:yC},wC=["TopLeft","TopRight","BottomLeft","BottomRight"],xC=wC.length,EC=function(e){return"string"===typeof e?parseFloat(e):e},SC=function(e){return"number"===typeof e||Ax.test(e)};function TC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var _C=IC(0,.5,yS),CC=IC(.5,.95,z);function IC(e,t,n){return function(r){return r<e?0:r>t?1:n(XS(e,t,r))}}function AC(e,t){e.min=t.min,e.max=t.max}function PC(e,t){AC(e.x,t.x),AC(e.y,t.y)}function NC(e,t,n,r,i){return e=X_(e-=t,1/n,r),void 0!==i&&(e=X_(e,1/i,r)),e}function RC(e,t,n,r,i){var a=f(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(Ix.test(t)&&(t=parseFloat(t),t=NS(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=NS(a.min,a.max,r);e===a&&(s-=t),e.min=NC(e.min,t,n,s,i),e.max=NC(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var OC=["x","scaleX","originX"],DC=["y","scaleY","originY"];function LC(e,t,n,r){RC(e.x,t,OC,n?n.x:void 0,r?r.x:void 0),RC(e.y,t,DC,n?n.y:void 0,r?r.y:void 0)}function MC(e){return 0===e.translate&&1===e.scale}function VC(e){return MC(e.x)&&MC(e.y)}function jC(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function FC(e){return P_(e.x)/P_(e.y)}var UC=function(){function e(){C(this,e),this.members=[]}return A(e,[{key:"add",value:function(e){QT(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(YT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function zC(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var BC=function(e,t){return e.depth-t.depth},qC=function(){function e(){C(this,e),this.children=[],this.isDirty=!1}return A(e,[{key:"add",value:function(e){QT(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){YT(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(BC),this.isDirty=!1,this.children.forEach(e)}}]),e}();var HC=["","X","Y","Z"],WC=0,KC={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GC(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();C(this,e),this.id=WC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;KC.totalNodes=KC.resolvedTargetDeltas=KC.recalculatedProjection=0,t.nodes.forEach($C),t.nodes.forEach(rI),t.nodes.forEach(iI),t.nodes.forEach(XC),e=KC,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(a(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new qC)}return A(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new $T),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||o)&&(this.isLayoutDirty=!0),t){var c,f=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(b(r),e(a-t))};return k.read(r,!0),function(){return b(r)}}(f,250),pC.hasAnimatedSinceResize&&(pC.hasAnimatedSinceResize=!1,n.nodes.forEach(nI))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||u.getDefaultTransition()||lI,s=u.getProps(),c=s.onLayoutAnimationStart,f=s.onLayoutAnimationComplete,h=!n.targetLayout||!jC(n.targetLayout,a)||i,d=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||d||r&&(h||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,d);var p=l(l({},HT(o,"layout")),{},{onPlay:c,onComplete:f});(u.shouldReduceMotion||n.options.layoutRoot)&&(p.delay=0,p.type=!1),n.startAnimation(p)}else r||nI(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,b(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aI),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ZC);this.isUpdating||this.nodes.forEach(eI),this.isUpdating=!1,this.nodes.forEach(tI),this.nodes.forEach(QC),this.nodes.forEach(YC),this.clearAllSnapshots();var e=performance.now();h.delta=yx(0,1e3/60,e-h.timestamp),h.timestamp=e,h.isProcessing=!0,m.update.process(h),m.preRender.process(h),m.render.process(h),h.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(JC),this.sharedNodes.forEach(oI)}},{key:"scheduleUpdateProjection",value:function(){k.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;k.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=q_(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(o){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!VC(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Q_(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),fI((e=r).x),fI(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return q_();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(nC(t.x,n.offset.x),nC(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=q_();PC(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){PC(t,e);var o=this.root.scroll;o&&(nC(t.x,-o.offset.x),nC(t.y,-o.offset.y))}nC(t.x,i.offset.x),nC(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q_();PC(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&oC(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Q_(i.latestValues)&&oC(n,i.latestValues)}return Q_(this.latestValues)&&oC(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=q_();PC(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&Q_(r.latestValues)){G_(r.latestValues)&&r.updateSnapshot();var i=q_();PC(i,r.measurePageBox()),LC(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return Q_(this.latestValues)&&LC(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=l(l(l({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==h.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=h.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=q_(),this.relativeTargetOrigin=q_(),M_(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),PC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=q_(),this.targetWithTransforms=q_()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,D_(u.x,c.x,l.x),D_(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):PC(this.target,this.layout.layoutBox),eC(this.target,this.targetDelta)):PC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=q_(),this.relativeTargetOrigin=q_(),M_(this.relativeTargetOrigin,this.target,f.target),PC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}KC.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!G_(this.parent.latestValues)&&!Y_(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===h.timestamp&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){PC(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oC(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,eC(e,o)),r&&Q_(a.latestValues)&&oC(e,a.latestValues))}t.x=tC(t.x),t.y=tC(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=B_(),this.projectionDeltaWithTransform=B_());var l=this.projectionTransform;O_(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=zC(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),KC.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=B_(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=l({},this.latestValues),o=B_();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=q_(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),f=this.getStack(),h=!f||f.members.length<=1,d=Boolean(c&&!h&&!0===this.options.crossfade&&!this.path.some(cI));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;sI(o.x,e.x,r),sI(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(M_(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){uI(e.x,t.x,n.x,r),uI(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&jC(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=q_()),PC(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=NS(0,void 0!==n.opacity?n.opacity:1,_C(r)),e.opacityExit=NS(void 0!==t.opacity?t.opacity:1,0,CC(r))):a&&(e.opacity=NS(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<xC;o++){var s="border".concat(wC[o],"Radius"),u=TC(t,s),c=TC(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||SC(u)===SC(c)?(e[s]=Math.max(NS(EC(u),EC(c),r),0),(Ix.test(c)||Ix.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=NS(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,d,h)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(b(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=k.update((function(){pC.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=lx(e)?e:JT(e);return r.start(WT("",r,t,n)),r.animation}(0,1e3,l(l({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&hI(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||q_();var a=P_(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=P_(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}PC(t,n),oC(t,i),O_(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new UC),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<HC.length;i++){var a="rotate"+HC[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=lE(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=lE(n.pointerEvents)||""),this.hasProjected&&!Q_(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=zC(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,ox)if(void 0!==s[f]){var h=ox[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?lE(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ZC),this.root.sharedNodes.clear()}}]),e}()}function QC(e){e.updateLayout()}function YC(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?H_((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=P_(t);t.min=i[e].min,t.max=t.min+r})):hI(o,n.layoutBox,i)&&H_((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],a=P_(i[t]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=B_();O_(u,i,n.layoutBox);var c=B_();s?O_(c,e.applyTransform(a,!0),n.measuredBox):O_(c,i,n.layoutBox);var l=!VC(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=q_();M_(v,n.layoutBox,d.layoutBox);var m=q_();M_(m,i,p.layoutBox),jC(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function $C(e){KC.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JC(e){e.clearSnapshot()}function ZC(e){e.clearMeasurements()}function eI(e){e.isLayoutDirty=!1}function tI(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rI(e){e.resolveTargetDelta()}function iI(e){e.calcProjection()}function aI(e){e.resetRotation()}function oI(e){e.removeLeadSnapshot()}function sI(e,t,n){e.translate=NS(t.translate,0,n),e.scale=NS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function uI(e,t,n,r){e.min=NS(t.min,n.min,r),e.max=NS(t.max,n.max,r)}function cI(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var lI={duration:.45,ease:[.4,0,.1,1]};function fI(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function hI(e,t,n){return"position"===e||"preserve-aspect"===e&&!N_(FC(t),FC(n),.2)}var dI=GC({attachResizeListener:function(e,t){return mE(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),pI={current:void 0},vI=GC({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!pI.current){var e=new dI({});e.mount(window),e.setOptions({layoutScroll:!0}),pI.current=e}return pI.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),mI={pan:{Feature:dC},drag:{Feature:fC,ProjectionNode:vI,MeasureLayout:kC}};var yI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var gI=4;function kI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;q(n<=gI,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=yI.exec(e);if(!t)return[,];var n=f(t,3);return[n[1],n[2]]}(e),i=f(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():vx(o)?kI(o,t,n+1):o}}function bI(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=l({},n)),e.values.forEach((function(e){var t=e.get();if(vx(t)){var n=kI(t,i);n&&e.set(n)}})),r){var o=r[a];if(vx(o)){var s=kI(o,i);s&&(r[a]=s,n||(n={}),void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var wI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xI=function(e){return wI.has(e)},EI=function(e){return e===gx||e===Ax},SI=function(e,t){return parseFloat(e.split(", ")[t])},TI=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return SI(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?SI(o[1],e):0}},_I=new Set(["x","y","z"]),CI=sx.filter((function(e){return!_I.has(e)}));var II={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:TI(4,13),y:TI(5,14)},AI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=l({},t),r=l({},r);var i=Object.keys(t).filter(xI),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=t_(l),h=t[i];if(sE(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=t_(l);for(var v=p;v<d&&null!==h[v];v++)c?q(t_(h[v])===c,"All keyframes must be of the same type"):(c=t_(h[v]),q(c===f||EI(f)&&EI(c),"Keyframes must be of the same dimension as the current value"))}else c=t_(h);if(f!==c)if(EI(f)&&EI(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===Ax&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return CI.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=II[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=II[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=f(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),w&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function PI(e,t,n,r){return function(e){return Object.keys(e).some(xI)}(t)?AI(e,t,n,r):{target:t,transitionEnd:r}}var NI={current:null},RI={current:!1};var OI=new WeakMap,DI=["willChange"],LI=["children"],MI=Object.keys($w),VI=MI.length,jI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FI=Hw.length,UI=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return k.render(n.render,!1,!0)};var c=s.latestValues,f=s.renderState;this.latestValues=c,this.baseTarget=l({},c),this.initialValues=i.initial?l({},c):{},this.renderState=f,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Ww(i),this.isVariantNode=Kw(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var h=this.scrapeMotionValuesFromProps(i,{}),d=h.willChange,p=Hx(h,DI);for(var v in p){var m=p[v];void 0!==c[v]&&lx(m)&&(m.set(c[v],!1),KT(d)&&d.add(v))}}return A(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,OI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),RI.current||function(){if(RI.current=!0,w)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return NI.current=e.matches};e.addListener(t),t()}else NI.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||NI.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in OI.delete(this.current),this.projection&&this.projection.unmount(),b(this.notifyUpdate),b(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=ux.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&k.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,a,o=this,s=(e.children,Hx(e,LI)),u=0;u<VI;u++){var c=MI[u],l=$w[c],f=l.isEnabled,h=l.Feature,d=l.ProjectionNode,p=l.MeasureLayout;d&&(i=d),f(s)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,m=s.layout,y=s.drag,g=s.dragConstraints,k=s.layoutScroll,b=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(y)||g&&Uw(g),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:r,layoutScroll:k,layoutRoot:b})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):q_()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<jI.length;n++){var r=jI[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(lx(a))e.addValue(i,a),KT(r)&&r.add(i);else if(lx(o))e.addValue(i,JT(a,{owner:e})),KT(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,JT(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<FI;n++){var r=Hw[n],i=this.props[r];(zw(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=JT(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=oE(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||lx(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new $T),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),zI=["transition","transitionEnd"],BI=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=Hx(e,zI),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=s_(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(GT(l)||zT(l))?l=parseFloat(l):!r_(l)&&WS.test(c)&&(l=UT(u,c)),e.addValue(u,JT(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var u=function(e,t,n,r){var i=bI(e,t,r);return PI(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=u.transitionEnd,a=u.target}return l({transition:r,transitionEnd:i},a)}}]),n}(UI);var qI=function(e){N(n,e);var t=L(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"readValueFromInstance",value:function(e,t){if(ux.has(t)){var n=FT(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(px(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return sC(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){Lx(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return iE(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;lx(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){tE(e,t,n,r)}}]),n}(BI),HI=function(e){N(n,e);var t=L(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return A(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(ux.has(t)){var n=FT(t);return n&&n.default||0}return t=nE.has(t)?t:eE(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return q_()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return aE(e,t)}},{key:"build",value:function(e,t,n,r){Yx(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){rE(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Xx(e.tagName),Wt(R(n.prototype),"mount",this).call(this,e)}}]),n}(BI),WI=function(e,t){return ax(e)?new HI(t,{enableHardwareAcceleration:!1}):new qI(t,{enableHardwareAcceleration:!0})},KI={layout:{ProjectionNode:vI,MeasureLayout:kC}},GI=l(l(l(l({},w_),qE),mI),KI),QI=rx((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return l(l({},ax(e)?pE:vE),{},{preloadedFeatures:n,useRender:Zx(a),createVisualElement:r,Component:e})}(e,t,GI,WI)}));var YI=n(184),$I=function(t){var n=t.note,r=t.deleting,i=t.setToBeDeletedNotes,a=t.toBeDeleted,o=f((0,e.useState)(!1),2),s=(o[0],o[1],f((0,e.useState)(""),2)),u=(s[0],s[1]),c=(qk(),Dk((function(e){return e.setScreen.value})),"");switch(n.color){case"gray":default:c="bg-neutral-300 dark:bg-neutral-600";break;case"red":c="bg-red-400 dark:bg-red-800";break;case"yellow":c="bg-yellow-400 dark:bg-yellow-600";break;case"blue":c="bg-blue-400 dark:bg-blue-800";break;case"green":c="bg-green-400 dark:bg-green-800"}return(0,YI.jsxs)(QI.div,{className:"relative z-0 sm:p-3 p-5 overflow-hidden rounded-xl ".concat(c," hover:scale-105 hover:drop-shadow-lg transition-all ease-in-out duration-400"),onClick:function(){r&&(u(n.time),i(n.time),console.log("CARDTILE: ",n.time))},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5},children:[r&&(0,YI.jsx)("div",{className:"absolute top-0 left-0 w-full h-full ".concat(a.includes(n.time)?"bg-tp-red":"bg-tp-white"," ")}),(0,YI.jsx)("h1",{className:"sm:text-sm text-2xl font-bold",children:n.title}),(0,YI.jsx)("p",{className:"sm:text-xs",children:n.details})]})},XI=Sw({name:"isSignedIn",initialState:{value:!1},reducers:{signinTrue:function(e,t){e.value=t.payload},signinFalse:function(e,t){e.value=!1}}}),JI=XI.actions,ZI=(JI.signinTrue,JI.signinFalse,XI.reducer),eA=function(t){t.isSignedIn,t.toggleSignIn;var n=f((0,e.useState)(""),2),r=n[0],i=n[1],a=f((0,e.useState)(""),2),o=a[0],s=a[1],u=f((0,e.useState)(!1),2),c=(u[0],u[1],f((0,e.useState)(""),2)),l=c[0],h=c[1],d=f((0,e.useState)(""),2),p=d[0],v=d[1],m=qk();Dk((function(e){return e.setScreen.value}));return(0,YI.jsxs)("div",{className:"flex flex-col justify-center items-center gap-5",children:[(0,YI.jsxs)(W,{children:[l&&(0,YI.jsx)(QI.div,{className:"fixed z-20 top-0 p-3 bg-red-900 text-neutral-200 rounded-xl text-center transition-all duration-500 select-none",initial:{y:-60},animate:{y:20},exit:{y:-3e3},transition:{duration:.1},children:l}),p&&(0,YI.jsx)(QI.div,{className:"fixed z-20 top-0 p-3 bg-green-800 text-neutral-200 rounded-xl text-center transition-all duration-500 select-none",initial:{y:-60},animate:{y:20},exit:{y:-3e3},transition:{duration:.1},children:p})]}),(0,YI.jsx)("h1",{className:"p-3 text-6xl font-bold mb-9 dark:text-neutral-200",children:"Login"}),(0,YI.jsx)("input",{className:"w-60 p-2 border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"text",placeholder:"example@email.com",onChange:function(e){return i(e.target.value)}}),(0,YI.jsx)("input",{className:"w-60 p-2 border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return s(e.target.value)}}),(0,YI.jsx)("button",{className:"w-32 py-2 px-3 mt-6 rounded-xl bg-neutral-700 text-neutral-300 active:scale-110 hover:bg-purple-600 transition-all duration-400 select-none",onClick:function(){r|""===o?(h("Both mail and password must have a valid value!"),setTimeout((function(){h("")}),"4000")):function(e,t,n){return Ey(Oe(e),iy.credential(t,n))}(xk,r,o).then((function(e){v("Logged in!"),setTimeout((function(){v(""),m(Lw("home"))}),"1500")})).catch((function(e){switch(console.log("CODE: ",e.code),e.code){case"auth/user-not-found":h("Email or password is incorrect!");break;case"auth/invalid-email":h("Email is not invalid!");break;case"auth/wrong-password":h("Password is wrong!");break;default:h("ERROR!")}setTimeout((function(){h("")}),"3000")}))},children:"Login"}),(0,YI.jsx)("button",{className:"fixed bottom-5 right-5 w-32 py-2 px-3 mt-6 rounded-xl bg-gradient-to-tr from-indigo-700 to-violet-700 text-neutral-300 hover:scale-110 transition-all duration-300 select-none",onClick:function(){return m(Lw("register"))},children:"Register"}),(0,YI.jsx)("div",{className:"fixed bottom-5 left-5 text-neutral-700 dark:text-neutral-200",children:"v 1.12"})]})},tA=Sw({name:"users",initialState:{value:""},reducers:{addUser:function(e,t){e.value.push(t.payload)},deleteUser:function(e,t){e.value=e.value.filter((function(e){return e.id!==t.payload.id}))}}}),nA=tA.actions;nA.addUser,nA.deleteUser,tA.reducer;function rA(e){return X({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(e)}function iA(e){return X({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}var aA=function(e){var t=e.error,n=e.success;return(0,YI.jsxs)(YI.Fragment,{children:[t&&(0,YI.jsx)(QI.div,{className:"fixed z-20 top-0 p-3 bg-red-900 text-neutral-200 rounded-xl text-center transition-all duration-500 select-none",initial:{y:-60},animate:{y:20},exit:{y:-3e3},transition:{duration:.1},children:t}),n&&(0,YI.jsx)(QI.div,{className:"fixed z-20 top-0 p-3 bg-green-800 text-neutral-200 rounded-xl text-center transition-all duration-500 select-none",initial:{y:-60},animate:{y:20},exit:{y:-3e3},transition:{duration:.1},children:n})]})},oA=function(t){var n=t.toggle,r=t.notes,i=t.docId,a=t.setModal,o=f((0,e.useState)(""),2),s=o[0],u=o[1],c=f((0,e.useState)(""),2),l=c[0],h=c[1],d=f((0,e.useState)([]),2),p=d[0],v=d[1],m=f((0,e.useState)(""),2),y=m[0],g=m[1],k=f((0,e.useState)(""),2),b=k[0],w=k[1],x=f((0,e.useState)("gray"),2),E=x[0],S=x[1],T=(qk(),(0,e.useRef)()),_=tp(wk,"users",i);(0,e.useEffect)((function(){var e=function(e){T.current.contains(e.target)||a(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}));return(0,e.useEffect)((function(){Jp(_,{notes:r}).then((function(){console.log("UPDATED")}))}),[p]),(0,YI.jsxs)(QI.div,{className:"fixed z-20 top-0 left-0 w-screen h-screen flex justify-center items-center bg-neutral-800 bg-opacity-75",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[(0,YI.jsx)(aA,{success:b,error:y}),(0,YI.jsxs)(QI.div,{className:"".concat(y&&"border-red-600 hover:border-red-600 transition-all duration-1000"," absolute w-auto flex flex-col justify-center items-center gap-3 p-12 rounded-xl bg-neutral-200 dark:bg-neutral-800 border-2 border-neutral-600 hover:border-purple-600 transition-all duration-700"),ref:T,initial:{y:-2e3},animate:{y:0},exit:{y:-3e3},transition:{duration:.1},children:[(0,YI.jsx)("button",{className:"absolute top-3 right-3 p-1 bg-neutral-500 hover:bg-red-500 rounded-lg transition-all duration-300",onClick:n,children:(0,YI.jsx)(iA,{size:17,className:"text-neutral-800 "})}),(0,YI.jsx)("h1",{className:"dark:text-neutral-200 mb-6 font-bold text-3xl",children:"Add New Note"}),(0,YI.jsx)("input",{className:"p-2 w-full border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"text",placeholder:"Title",onChange:function(e){return u(e.target.value)}}),(0,YI.jsx)("textarea",{className:"p-2 w-full border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"text",placeholder:"Details",maxLength:200,rows:4,onChange:function(e){return h(e.target.value)}}),(0,YI.jsxs)("div",{className:"p-2 px-3 w-full flex justify-between items-center bg-neutral-300 dark:bg-neutral-700 border-2 border-neutral-400 rounded-xl",children:[(0,YI.jsx)("div",{className:"p-3 bg-neutral-300 dark:bg-neutral-600 rounded-full border-2 cursor-pointer hover:scale-110 transition-all duration-200 ".concat("gray"===E?"border-neutral-600 dark:border-neutral-300":"border-neutral-400 dark:border-neutral-500"),onClick:function(){return S("gray")}}),(0,YI.jsx)("div",{className:"p-3 bg-red-400 dark:bg-red-800 rounded-full border-2 cursor-pointer hover:scale-110 transition-all duration-200 ".concat("red"===E?"border-neutral-600 dark:border-neutral-300":"border-neutral-400 dark:border-neutral-500"),onClick:function(){return S("red")}}),(0,YI.jsx)("div",{className:"p-3 bg-yellow-400 dark:bg-yellow-600 rounded-full border-2 cursor-pointer hover:scale-110 transition-all duration-200 ".concat("yellow"===E?"border-neutral-600 dark:border-neutral-300":"border-neutral-400 dark:border-neutral-500"),onClick:function(){return S("yellow")}}),(0,YI.jsx)("div",{className:"p-3 bg-blue-400 dark:bg-blue-800 rounded-full border-2 cursor-pointer hover:scale-110 transition-all duration-200 ".concat("blue"===E?"border-neutral-600 dark:border-neutral-300":"border-neutral-400 dark:border-neutral-500"),onClick:function(){return S("blue")}}),(0,YI.jsx)("div",{className:"p-3 bg-green-400 dark:bg-green-800 rounded-full border-2 cursor-pointer hover:scale-110 transition-all duration-200 ".concat("green"===E?"border-neutral-600 dark:border-neutral-300":"border-neutral-400 dark:border-neutral-500"),onClick:function(){return S("green")}})]}),(0,YI.jsx)("button",{className:"py-2 px-3 mt-6 rounded-xl bg-neutral-700 text-neutral-300 active:scale-110 hover:bg-purple-600 transition-all duration-200 select-none",onClick:function(){console.log(s,"-",l),s|""===l?(g("Both title and details sections must have a valid value"),setTimeout((function(){g("")}),"4000")):(r.push({title:s,details:l,time:Date.now(),color:E}),console.log(r),v(r),w("Note has been added successfully"),setTimeout((function(){w(""),a(!1)}),"1500"))},children:"Add Note"})]})]})};function sA(e){return X({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"}}]})(e)}function uA(e){return X({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"}}]})(e)}function cA(e){return X({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(e)}var lA=function(t){var n=t.sortBy,r=t.sortHandler,i=f((0,e.useState)(!1),2),a=i[0],o=i[1],s=f((0,e.useState)("Sort By"),2),u=s[0],c=s[1],l=0;a&&(l=180);return(0,e.useEffect)((function(){switch(n){case"titleAsc":c((0,YI.jsxs)("div",{className:"flex items-center gap-1",children:["Title ",(0,YI.jsx)(uA,{})]}));break;case"titleDes":c((0,YI.jsxs)("div",{className:"flex items-center gap-1",children:["Title ",(0,YI.jsx)(sA,{})]}));break;case"timeAsc":c((0,YI.jsxs)("div",{className:"flex items-center gap-1",children:["Time ",(0,YI.jsx)(uA,{})]}));break;case"timeDes":c((0,YI.jsxs)("div",{className:"flex items-center gap-1",children:["Time ",(0,YI.jsx)(sA,{})]}));break;default:c("Sort by")}}),[n]),(0,YI.jsxs)("div",{className:"relative w-32 bg-neutral-700 shadow-md rounded-xl cursor-pointer select-none",children:[(0,YI.jsxs)("div",{className:"p-3 flex justify-between items-center gap-2 text-neutral-400 dark:text-neutral-400 rounded-xl",onClick:function(){o(!a)},children:[(0,YI.jsx)("div",{className:"",children:u}),(0,YI.jsx)(QI.div,{animate:{rotate:l},children:(0,YI.jsx)(rA,{className:"mt-1"})})]}),(0,YI.jsx)(W,{children:a&&(0,YI.jsxs)(QI.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:20},exit:{opacity:0,y:-10},transition:{duration:.4},className:"absolute top-4 left-0 pt-3 w-32 rounded-b-xl bg-neutral-700 text-neutral-300 overflow-hidden",children:[(0,YI.jsxs)("div",{className:"p-3  flex justify-between items-center hover:bg-neutral-600 transition-all duration-200",onClick:function(){return r("titleAsc")},children:["Title ",(0,YI.jsx)(uA,{})]}),(0,YI.jsxs)("div",{className:"p-3  flex justify-between items-center hover:bg-neutral-600 transition-all duration-200",onClick:function(){return r("titleDes")},children:["Title ",(0,YI.jsx)(sA,{})]}),(0,YI.jsxs)("div",{className:"p-3  flex justify-between items-center hover:bg-neutral-600 transition-all duration-200",onClick:function(){return r("timeAsc")},children:["Time ",(0,YI.jsx)(uA,{})]}),(0,YI.jsxs)("div",{className:"p-3  flex justify-between items-center hover:bg-neutral-600 transition-all duration-200",onClick:function(){return r("timeDes")},children:["Time ",(0,YI.jsx)(sA,{})]})]})})]})},fA=function(t){t.isSignedIn,t.toggleSignIn;var n,r,i,o,s,u,c,h=f((0,e.useState)(!1),2),d=h[0],p=h[1],v=f((0,e.useState)(""),2),m=v[0],y=v[1],g=f((0,e.useState)(""),2),k=g[0],b=g[1],w=f((0,e.useState)(""),2),x=w[0],E=w[1],T=f((0,e.useState)([]),2),_=T[0],C=T[1],I=f((0,e.useState)(""),2),A=I[0],P=I[1],N=f((0,e.useState)(!1),2),R=N[0],O=N[1],D=f((0,e.useState)(!1),2),L=D[0],M=D[1],V=f((0,e.useState)([]),2),j=V[0],F=V[1],U=f((0,e.useState)(!0),2),z=U[0],B=U[1],q=qk(),H=function(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Mp&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Fp})).length,n=e.filter((function(e){return e instanceof jp})).length;if(t>1||t>0&&n>0)throw new Io(Co.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=S(n);try{for(s.s();!(o=s.n()).done;)e=o.value._apply(e)}catch(u){s.e(u)}finally{s.f()}return e}(Ek,function(e,t,n){var r=t,i=Dp("where",e);return jp._create(i,r,n)}("email","==",xk.currentUser.email)),K=[],G=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(e){R&!G.current.contains(e.target)&&(O(!1),console.log("INPUT: ",G.current))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[R]);var Q=function(){p(!d)};(0,e.useEffect)((function(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Oe(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||rp(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(rp(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Xd)l=Gd(e.firestore,ip),f=Cu(e._key.path),c={next:function(t){n[u]&&n[u](ev(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Gd(e,Jd);l=Gd(p.firestore,ip),f=p._query;var v=new Xp(l);c={next:function(e){n[u]&&n[u](new Yp(l,v,p,e))},error:n[u+1],complete:n[u+2]},Lp(e._query)}return function(e,t,n,r){var i=new Cd(r),a=new zh(t,i,n);return e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dh,t.next=3,Fd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Mh,t.next=3,Fd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ap(l),f,h,c)}(H,(function(e){e.docs.forEach((function(e){C(l(l({},e.data()),{},{id:e.id}))})),console.log("Credentials: ",_),B(!1)}));return function(){return e()}}),[z]);var Y=function(e){F((function(t){return[].concat(a(t),[e])}))};(0,e.useEffect)((function(){console.log("Silinecekler: ",j)}),[j]);switch((0,e.useEffect)((function(){console.log(m)}),[m]),m){case"titleAsc":K=null===(n=_.notes)||void 0===n?void 0:n.sort((function(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0}));break;case"titleDes":K=null===(r=_.notes)||void 0===r?void 0:r.sort((function(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?1:n>r?-1:0}));break;case"timeAsc":K=null===(i=_.notes)||void 0===i?void 0:i.sort((function(e,t){return e.time-t.time}));break;case"timeDes":K=null===(o=_.notes)||void 0===o?void 0:o.sort((function(e,t){return t.time-e.time})),console.log("SIRALI: ",K);break;default:K=null===(s=_.notes)||void 0===s?void 0:s.sort((function(e,t){return e.time-t.time}))}return(0,YI.jsxs)("div",{className:"w-full min-h-screen flex justify-center sm:mt-28 md:mt-24 sm:p-0 p-0 bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-200 transition-all duration-500",children:[(0,YI.jsx)(aA,{success:k,error:x}),(0,YI.jsxs)("div",{className:"fixed z-[8] z top-20 left-0 pt-5 pb-3 w-full sm:flex-col sm:px-0 md:py-10 flex justify-center items-center content-center gap-5 backdrop-blur-lg transition-all duration-500 ease-in-out",children:[(0,YI.jsxs)("div",{className:"sm:min-w-[300px] md:min-w-[500px] md:max-w-[900px] lg:min-w-[800px] flex justify-center items-center border-2 border-neutral-500 rounded-xl bg-transparent ".concat(R&&"border-purple-600"," dark:text-neutral-50 caret-purple-600 transition-all duration-200"),onClick:function(){return O(!0)},ref:G,children:[(0,YI.jsx)(ne,{size:25,className:"ml-2 text-neutral-500"}),(0,YI.jsx)("input",{className:"p-2 w-full border-none outline-none box-border bg-transparent placeholder-neutral-500 caret-purple-600 transition-all duration-500",type:"text",placeholder:"Search...",onChange:function(e){return P(e.target.value)}})]}),(0,YI.jsxs)("div",{className:"flex justify-center items-center gap-5",children:[(0,YI.jsx)("button",{className:"sm:px-8 py-2 px-3 rounded-xl bg-neutral-700 text-neutral-300 hover:scale-105 hover:bg-green-600 transition-all duration-500 select-none",onClick:Q,children:(0,YI.jsx)(ee,{size:24})}),(0,YI.jsx)("button",{className:"sm:px-8 py-2 px-3 rounded-xl bg-neutral-700 text-neutral-300 hover:scale-105 hover:bg-red-600 transition-all duration-500 select-none",onClick:function(){if(L)if(0===j.length)E("You must first choose the notes that you want to delete!"),setTimeout((function(){E("")}),"4000");else{var e,t=null===(e=_.notes)||void 0===e?void 0:e.filter((function(e){return!j.includes(e.time)}));console.log("Yeni array: ",t),Jp(tp(wk,"users",_.id),{notes:t}).then((function(){B(!0),b("Selected notes have been deleted!"),M(!1),setTimeout((function(){b(""),F([])}),"3000")}))}else M(!0)},children:(0,YI.jsx)(Z,{size:24})}),(0,YI.jsx)("button",{className:"".concat(L?"block":"hidden"," sm:px-7 py-2 px-3 rounded-xl bg-neutral-700 text-neutral-300 hover:scale-105 hover:bg-cyan-700 transition-all duration-500 ease-in-out select-none"),onClick:function(){F([]),M(!1)},children:(0,YI.jsx)(re,{size:24})}),(0,YI.jsx)(lA,{sortBy:m,sortHandler:function(e){y(e)}})]})]}),(0,YI.jsx)(W,{children:d&&(0,YI.jsx)(oA,{notes:_.notes,docId:_.id,toggle:Q,setModal:p})}),(0,YI.jsx)(W,{children:(0,YI.jsx)("div",{className:"w-full max-w-5xl sm:mt-10 mt-20 flex justify-start content-start flex-wrap gap-5 dark:text-neutral-200 select-none",children:0===(null===(u=_.notes)||void 0===u?void 0:u.length)?(0,YI.jsx)("div",{className:"w-full text-center dark:text-neutral-400",children:"Let's start with adding a note with the plus button next to the search bar."}):null===(c=K)||void 0===c?void 0:c.filter((function(e){return""===A.toLowerCase()?e:e.title.toLowerCase().includes(A)})).map((function(e){return(0,YI.jsx)($I,{note:e,deleting:L,setToBeDeletedNotes:Y,toBeDeleted:j},e.time)}))})}),(0,YI.jsx)("button",{className:"fixed bottom-5 right-5 p-3 mt-6 rounded-xl bg-neutral-700 font-bold text-neutral-100 hover:bg-red-700 transition-all duration-700 ease-in-out select-none",onClick:function(){(function(e){return Oe(e).signOut()})(xk).then((function(){console.log("user signed out"),q(Lw("auth"))})).catch((function(e){console.log(e.message)}))},children:(0,YI.jsx)(te,{size:32})})]})},hA=function(){return(0,YI.jsx)("div",{className:"h-full flex justify-center items-center dark:text-neutral-200",children:"EditNote"})},dA=function(){var t=f((0,e.useState)(""),2),n=t[0],r=t[1],i=f((0,e.useState)(""),2),a=i[0],o=i[1],s=f((0,e.useState)(""),2),u=s[0],c=s[1],l=f((0,e.useState)(""),2),h=l[0],d=l[1],p=f((0,e.useState)(""),2),v=p[0],m=p[1],y=qk();return(0,YI.jsxs)("div",{className:"flex flex-col justify-center items-center gap-5",children:[(0,YI.jsx)(aA,{success:h,error:v}),(0,YI.jsx)("h1",{className:"p-3 spaci text-6xl font-bold mb-9 text-transparent bg-clip-text bg-gradient-to-tr from-green-700 to-violet-700",children:"Register"}),(0,YI.jsx)("input",{className:"w-60 p-2 border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"text",placeholder:"Name",onChange:function(e){return r(e.target.value)}}),(0,YI.jsx)("input",{className:"w-60 p-2 border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"text",placeholder:"example@email.com",onChange:function(e){return o(e.target.value)}}),(0,YI.jsx)("input",{className:"w-60 p-2 border-2 border-neutral-400 rounded-xl bg-transparent placeholder-neutral-500 focus:outline-none focus:border-purple-600 dark:text-neutral-50 caret-purple-600 transition-all duration-500",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return c(e.target.value)}}),(0,YI.jsx)("button",{className:"w-32 py-2 px-3 mt-6 rounded-xl bg-neutral-700 text-neutral-300 active:scale-110 hover:bg-purple-600 transition-all duration-400 select-none",onClick:function(){""===a||""===u||""===n?(m("Every input must have a valid value!"),setTimeout((function(){m("")}),"4000")):function(e,t,n){return Ty.apply(this,arguments)}(xk,a,u).then((function(){!function(e,t){var n=Gd(e.firestore,ip),r=tp(e),i=Wp(e.converter,t);Zp(n,[gp(yp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kc.exists(!1))]).then((function(){return r}))}(Ek,{name:n,email:a,uid:xk.currentUser.uid,notes:[]}),d("Account is created successfully!"),setTimeout((function(){d(""),y(Lw("auth"))}),"1500")})).catch((function(e){switch(console.log(e.code),m(e.message),e.code){case"auth/user-not-found":m("Email or password is incorrect!");break;case"auth/invalid-email":m("Email is not invalid!");break;case"auth/wrong-password":m("Password is wrong!");break;case"auth/email-already-in-use":m("There is already an account with this email!");break;default:m("ERROR!")}setTimeout((function(){m("")}),"3000")}))},children:"Register"}),(0,YI.jsx)("button",{className:"fixed bottom-5 right-5 w-32 py-2 px-3 mt-6 rounded-xl bg-sky-700 text-neutral-300 hover:scale-110 transition-all duration-300 select-none",onClick:function(){return y(Lw("auth"))},children:"Login"})]})};var pA=function(){var t=Dk((function(e){return e.setScreen.value}));return(0,e.useEffect)((function(){console.log("ANA: ",t)}),[t]),(0,YI.jsx)("div",{className:"w-full min-h-screen md:min-h-screen md:mt-0 mt-10 font-LGC p-10 bg-neutral-200 flex flex-col justify-center items-center dark:bg-neutral-800 transition-all duration-500",children:function(e){switch(e){case"auth":default:return(0,YI.jsx)(eA,{});case"register":return(0,YI.jsx)(dA,{});case"home":return(0,YI.jsx)(fA,{});case"edit":return(0,YI.jsx)(hA,{})}}(t)})};function vA(e){return X({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M279.135 512c78.756 0 150.982-35.804 198.844-94.775 28.27-34.831-2.558-85.722-46.249-77.401-82.348 15.683-158.272-47.268-158.272-130.792 0-48.424 26.06-92.292 67.434-115.836 38.745-22.05 28.999-80.788-15.022-88.919A257.936 257.936 0 0 0 279.135 0c-141.36 0-256 114.575-256 256 0 141.36 114.576 256 256 256zm0-464c12.985 0 25.689 1.201 38.016 3.478-54.76 31.163-91.693 90.042-91.693 157.554 0 113.848 103.641 199.2 215.252 177.944C402.574 433.964 344.366 464 279.135 464c-114.875 0-208-93.125-208-208s93.125-208 208-208z"}}]})(e)}var mA=function(){var t=f((0,e.useState)("dark"),2),n=t[0],r=t[1];(0,e.useEffect)((function(){"dark"===n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[n]);var i=function(){r("dark"===n?"light":"dark")};return(0,YI.jsxs)("div",{className:"fixed z-10 w-full p-4 flex top-0 justify-between items-center bg-neutral-300 dark:bg-neutral-900 drop-shadow-sm transition-all duration-500",children:[(0,YI.jsx)("div",{className:"dark:text-neutral-200 font-black text-3xl select-none transition-all duration-500",children:"Notes"}),"dark"===n?(0,YI.jsx)("div",{className:"p-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-200 hover:text-yellow-400 rounded-2xl transition-all duration-500 cursor-pointer",onClick:i,children:(0,YI.jsx)(cA,{size:32,weight:"bold",className:""})}):(0,YI.jsx)("div",{className:"p-3 bg-neutral-200 hover:dark:bg-neutral-700 hover:text-sky-800 transition-all duration-500 rounded-2xl cursor-pointer",onClick:i,children:(0,YI.jsx)(vA,{size:32,weight:"bold",className:""})})]})},yA=function(e){var t,n=ww(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!yw(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Xb(a)}var p=s;"function"===typeof p&&(p=p(n));var v=Zb.apply(void 0,p),m=Jb;c&&(m=mw(dw({trace:!1},"object"===typeof c&&c)));var y=new kw(v),g=y;return Array.isArray(d)?g=aw([v],d):"function"===typeof d&&(g=d(y)),$b(t,f,m.apply(void 0,g))}({reducer:{isSignedIn:ZI,setScreen:Mw}});t.createRoot(document.getElementById("root")).render((0,YI.jsx)(e.StrictMode,{children:(0,YI.jsxs)(jk,{store:yA,children:[(0,YI.jsx)(mA,{}),(0,YI.jsx)(pA,{})]})}))}()}();
//# sourceMappingURL=main.bfbaad32.js.map